<!DOCTYPE html> <html> <!-- This page is used centrarium Jekyll theme Copyright (c) 2015 Ben Centra Released under the MIT license https://github.com/bencentra/centrarium/blob/daa0d16ba9156ad43f9980e2075023a0d48859a5/LICENSE.md --> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"> <title>WWDC 2021で発表されたエンタープライズ関連の新機能</title> <meta name="description" content="日本時間2021年6月8日〜6月12日にかけて、Apple社が主催するWWDC（世界開発者会議）2021が開催されました。 その中で、今年もエンタープライズ機能のアップデートが紹介されました。 今回は、WWDC 2021で紹介されたいくつかの機能をまとめてみました。"> <meta name="author" content="Tadayuki Onishi"> <meta name="copyright" content="© Tadayuki Onishi 2025"> <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon"> <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon"> <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png"> <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png"> <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png"> <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png"> <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png"> <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png"> <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png"> <link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/android-icon-192x192.png"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png"> <link rel="manifest" href="/assets/icons/manifest.json"> <meta name="msapplication-TileColor" content="#ffffff"> <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png"> <meta name="theme-color" content="#ffffff"> <meta property="fb:app_id" content="376889769419405"> <meta property="og:description" content="日本時間2021年6月8日〜6月12日にかけて、Apple社が主催するWWDC（世界開発者会議）2021が開催されました。 その中で、今年もエンタープライズ機能のアップデートが紹介されました。 今回は、WWDC 2021で紹介されたいくつかの機能をまとめてみました。"> <meta property="og:url" content="https://kenchan0130.github.io/post/2021-06-24-1"> <meta property="og:site_name" content="kenchan0130 blog"> <meta property="og:title" content="WWDC 2021で発表されたエンタープライズ関連の新機能"> <meta property="og:type" content="website"> <meta property="og:author" content="Tadayuki Onishi"> <meta property="og:image" content="https://kenchan0130.github.io/assets/posts/post/2021-06-24-1/cover.jpg"> <meta property="og:image:width" content="1960"> <meta property="og:image:height" content="1102"> <meta property="og:image:type" content="image/png"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:title" content="WWDC 2021で発表されたエンタープライズ関連の新機能"> <meta name="twitter:site" content="@kenchan0130"> <meta name="twitter:description" content="日本時間2021年6月8日〜6月12日にかけて、Apple社が主催するWWDC（世界開発者会議）2021が開催されました。 その中で、今年もエンタープライズ機能のアップデートが紹介されました。 今回は、WWDC 2021で紹介されたいくつかの機能をまとめてみました。"> <meta name="twitter:image" content="https://kenchan0130.github.io/assets/posts/post/2021-06-24-1/cover.jpg"> <meta name="twitter:url" content="https://kenchan0130.github.io/post/2021-06-24-1"> <link rel="preload" as="style" href="/assets/bundle/app.55445db2fff8ddfed8c5.css" onload="this.onload=null;this.rel='stylesheet'"> <noscript> <link rel="stylesheet" href="/assets/bundle/app.55445db2fff8ddfed8c5.css"> </noscript> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="https://kenchan0130.github.io/post/2021-06-24-1"> <link rel="alternate" type="application/atom+xml" title="kenchan0130 blog" href="https://kenchan0130.github.io/feed.xml"> <meta name="google-site-verification" content="ZxlKORgZZwZ4TTmaQJFFEXLF3jmd6P_NVU9TEVW1bSg"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> </head> <body> <header class="navigation" role="banner"> <div class="navigation-wrapper"> <a href="/" class="logo"> <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kenchan0130 blog" data-src="/assets/logo.png" class="lazyload"> </a> <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu"> <i class="fas fa-bars"></i> </a> <nav role="navigation"> <ul id="js-navigation-menu" class="navigation-menu"> <li class="nav-search-box"> <div class="search-input-container"> <input type="search" class="search-input" id="js-search-input" placeholder="Search" autocomplete="off" onfocus="gtag('event', 'search', { event_category: 'www.algolia.com/apps/DEFR5IK9E2/explorer/browse/kenchan0130_blog', event_label: '/post/2021-06-24-1' });"> <i class="fa fa-search search-input-icon"></i> <template id="suggestion-template"> <a href="" onclick="gtag('event', 'click', { event_category: 'www.algolia.com/apps/DEFR5IK9E2/explorer/browse/kenchan0130_blog', event_label: this.href });"> <p class="suggestion-title js-suggestion-title"></p> <p class="suggestion-content js-suggestion-content"></p> </a> </template> </div> </li> <li class="nav-link"> <a href="/archives">Archives</a> </li> <li class="nav-link"> <a href="/profile">Profile</a> </li> </ul> </nav> </div> </header> <div class="page-content"> <div class="post"> <div class="post-header-container has-cover" style="background-image: url(/assets/posts/post/2021-06-24-1/cover.jpg);"> <div class="scrim has-cover"> <header class="post-header"> <h1 class="title">WWDC 2021で発表されたエンタープライズ関連の新機能</h1> </header> </div> </div> <div class="wrapper"> <section class="post-meta"> <div class="post-date">2021-06-24</div> <div class="post-categories"> <i class="fas fa-fw fa-book"></i> <a href="/category/system-administration">system-administration </a> </div> </section> <article class="post-content"> <p>日本時間2021年6月8日〜6月12日にかけて、Apple社が主催するWWDC（世界開発者会議）2021が開催されました。 その中で、今年もエンタープライズ機能のアップデートが紹介されました。</p> <p>今回は、WWDC 2021で紹介されたいくつかの機能をまとめてみました。</p> <ul id="markdown-toc"> <li> <a href="#iosipados%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88" id="markdown-toc-iosipadosに関するアップデート">iOS/iPadOSに関するアップデート</a> <ul> <li><a href="#vpn%E3%81%A8%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%83%9E%E3%83%8D%E3%83%BC%E3%82%B8%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AE%E7%94%BB%E9%9D%A2%E3%81%AE%E7%B5%B1%E5%90%88" id="markdown-toc-vpnとデバイスマネージメントの画面の統合">VPNとデバイスマネージメントの画面の統合</a></li> <li><a href="#user-enrollemnt%E9%85%8D%E4%B8%8B%E3%81%AE%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%B8%E3%81%AE%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E5%BC%B7%E5%88%B6%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB" id="markdown-toc-user-enrollemnt配下のデバイスへのアプリケーションの強制インストール">User Enrollemnt配下のデバイスへのアプリケーションの強制インストール</a></li> <li><a href="#managed-pasteboard" id="markdown-toc-managed-pasteboard">Managed pasteboard</a></li> <li><a href="#%E5%85%B1%E6%9C%89ipad%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E6%A9%9F%E8%83%BD%E3%81%AE%E5%BC%B7%E5%8C%96" id="markdown-toc-共有ipadにおける機能の強化">共有iPadにおける機能の強化</a></li> <li><a href="#user-enrollment%E9%85%8D%E4%B8%8B%E3%81%AE%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%AE%E7%AE%A1%E7%90%86%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E6%83%85%E5%A0%B1%E7%A2%BA%E8%AA%8D%E7%94%BB%E9%9D%A2" id="markdown-toc-user-enrollment配下のデバイスの管理アカウント情報確認画面">User Enrollment配下のデバイスの管理アカウント情報確認画面</a></li> <li><a href="#iosipados%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8Bmanaged-apple-id%E3%81%AEicloud%E3%83%89%E3%83%A9%E3%82%A4%E3%83%96%E3%81%AE%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88" id="markdown-toc-iosipadosにおけるmanaged-apple-idのicloudドライブのサポート">iOS/iPadOSにおけるManaged Apple IDのiCloudドライブのサポート</a></li> <li><a href="#%E6%96%B0%E3%81%97%E3%81%84user-enrollment%E3%81%AE%E3%82%AA%E3%83%B3%E3%83%9C%E3%83%BC%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0%E3%83%95%E3%83%AD%E3%83%BC" id="markdown-toc-新しいuser-enrollmentのオンボーディングフロー">新しいUser Enrollmentのオンボーディングフロー</a></li> </ul> </li> <li> <a href="#macos%E3%81%AB%E9%96%A2%E9%80%A3%E3%81%99%E3%82%8B%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88" id="markdown-toc-macosに関連するアップデート">macOSに関連するアップデート</a> <ul> <li><a href="#system-extension%E3%81%AE%E5%89%8A%E9%99%A4%E6%A9%9F%E8%83%BD" id="markdown-toc-system-extensionの削除機能">System Extensionの削除機能</a></li> <li><a href="#restartdevice%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%AE%E5%BC%B7%E5%8C%96" id="markdown-toc-restartdeviceコマンドの強化">RestartDeviceコマンドの強化</a></li> <li><a href="#apple%E3%82%B7%E3%83%AA%E3%82%B3%E3%83%B3%E3%81%AE%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%88%E3%83%AD%E3%83%83%E3%82%AF%E6%A9%9F%E8%83%BD" id="markdown-toc-appleシリコンのリモートロック機能">Appleシリコンのリモートロック機能</a></li> <li><a href="#apple%E3%82%B7%E3%83%AA%E3%82%B3%E3%83%B3%E3%81%AE%E3%83%AA%E3%82%AB%E3%83%90%E3%83%AA%E3%83%91%E3%82%B9%E3%83%AF%E3%83%BC%E3%83%89%E6%A9%9F%E8%83%BD" id="markdown-toc-appleシリコンのリカバリパスワード機能">Appleシリコンのリカバリパスワード機能</a></li> <li><a href="#%E3%81%99%E3%81%B9%E3%81%A6%E3%81%AE%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%81%A8%E8%A8%AD%E5%AE%9A%E3%82%92%E6%B6%88%E5%8E%BB%E3%81%99%E3%82%8B%E6%A9%9F%E8%83%BD" id="markdown-toc-すべてのコンテンツと設定を消去する機能">すべてのコンテンツと設定を消去する機能</a></li> <li><a href="#user-enrollment%E9%85%8D%E4%B8%8B%E3%81%AE%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%AE%E7%AE%A1%E7%90%86%E5%AF%BE%E8%B1%A1%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E3%83%9C%E3%83%AA%E3%83%A5%E3%83%BC%E3%83%A0%E5%88%86%E9%9B%A2" id="markdown-toc-user-enrollment配下のデバイスの管理対象アプリケーションのボリューム分離">User Enrollment配下のデバイスの管理対象アプリケーションのボリューム分離</a></li> <li><a href="#macos%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8Bmanaged-apple-id%E3%81%AEicloud%E3%83%89%E3%83%A9%E3%82%A4%E3%83%96%E3%81%AE%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88" id="markdown-toc-macosにおけるmanaged-apple-idのicloudドライブのサポート">macOSにおけるManaged Apple IDのiCloudドライブのサポート</a></li> <li><a href="#apple-configurator%E3%81%AB%E3%82%88%E3%82%8B%E3%83%AA%E3%82%B9%E3%83%88%E3%82%A2%E3%81%A8%E3%83%AA%E3%83%90%E3%82%A4%E3%83%96" id="markdown-toc-apple-configuratorによるリストアとリバイブ">Apple Configuratorによるリストアとリバイブ</a></li> <li><a href="#apple-configurator%E3%81%AB%E3%82%88%E3%82%8Bapple-business-managerapple-school-manager%E3%81%B8%E3%81%AE%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E7%99%BB%E9%8C%B2" id="markdown-toc-apple-configuratorによるapple-business-managerapple-school-managerへのデバイス登録">Apple ConfiguratorによるApple Business Manager/Apple School Managerへのデバイス登録</a></li> <li><a href="#%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88%E3%81%AE%E5%BB%B6%E6%9C%9F%E6%96%B9%E6%B3%95%E3%81%AE%E6%8B%A1%E5%85%85" id="markdown-toc-ソフトウェアアップデートの延期方法の拡充">ソフトウェアアップデートの延期方法の拡充</a></li> <li><a href="#apple%E3%82%B7%E3%83%AA%E3%82%B3%E3%83%B3%E3%81%AE%E9%9D%9E%E5%AF%BE%E8%A9%B1%E5%9E%8B%E3%81%AE%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88" id="markdown-toc-appleシリコンの非対話型のソフトウェアアップデート">Appleシリコンの非対話型のソフトウェアアップデート</a></li> <li><a href="#%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88%E3%81%AE%E5%BB%B6%E6%9C%9F%E4%B8%8A%E9%99%90%E6%A9%9F%E8%83%BD" id="markdown-toc-ソフトウェアアップデートの延期上限機能">ソフトウェアアップデートの延期上限機能</a></li> </ul> </li> <li> <a href="#mdm%E3%83%99%E3%83%B3%E3%83%80%E3%83%BC%E5%90%91%E3%81%91%E3%81%AE%E3%82%A2%E3%83%83%E3%83%97%E3%83%87%E3%83%BC%E3%83%88" id="markdown-toc-mdmベンダー向けのアップデート">MDMベンダー向けのアップデート</a> <ul> <li><a href="#macos%E3%81%AEapple-software-lookup%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88" id="markdown-toc-macosのapple-software-lookupサポート">macOSのApple Software Lookupサポート</a></li> <li><a href="#%E3%82%A2%E3%82%BB%E3%83%83%E3%83%88%E7%AE%A1%E7%90%86api%E3%81%AE%E9%9D%9E%E5%90%8C%E6%9C%9F%E5%87%A6%E7%90%86" id="markdown-toc-アセット管理apiの非同期処理">アセット管理APIの非同期処理</a></li> <li><a href="#mdm%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%B8%E3%81%AE%E3%83%AA%E3%82%A2%E3%83%AB%E3%82%BF%E3%82%A4%E3%83%A0%E9%80%9A%E7%9F%A5" id="markdown-toc-mdmサーバーへのリアルタイム通知">MDMサーバーへのリアルタイム通知</a></li> <li><a href="#declarative-device-management" id="markdown-toc-declarative-device-management">Declarative Device Management</a></li> </ul> </li> <li><a href="#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB" id="markdown-toc-終わりに">終わりに</a></li> </ul> <h2 id="iosipadosに関するアップデート">iOS/iPadOSに関するアップデート</h2> <p>以下のアップデートのほとんどが、iOS/iPadOS 15から実現される予定です。</p> <h3 id="vpnとデバイスマネージメントの画面の統合">VPNとデバイスマネージメントの画面の統合</h3> <p><a href="/assets/posts/post/2021-06-24-1/vpn_and_device_management.png" data-fancybox="images" data-caption="What’s new in managing Apple devicesのセッションで発表されたVPNとデバイスマネージメントの画面の統合"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="What’s new in managing Apple devicesのセッションで発表されたVPNとデバイスマネージメントの画面の統合" data-src="/assets/posts/post/2021-06-24-1/vpn_and_device_management.png" class="lazyload"></a></p> <p>管理に関係する項目は「設定」アプリケーションの至るところに点在していたため、エンドユーザーが現状を把握することが難しい状態でした。</p> <p>iOS/iPadOS 15では、VPNとデバイス管理の画面が統合され、デバイスの状態を1つの包括的な場所で表示できる予定です。</p> <p>この画面では、</p> <ul> <li>VPNの管理</li> <li>User Enrollmentのアカウントの管理</li> <li>プロファイルの管理</li> </ul> <p>が可能となる予定です。</p> <h3 id="user-enrollemnt配下のデバイスへのアプリケーションの強制インストール">User Enrollemnt配下のデバイスへのアプリケーションの強制インストール</h3> <p><a href="/assets/posts/post/2021-06-24-1/required_app.png" data-fancybox="images" data-caption="What’s new in managing Apple devicesのセッションで発表されたRequried app"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="What’s new in managing Apple devicesのセッションで発表されたRequried app" data-src="/assets/posts/post/2021-06-24-1/required_app.png" class="lazyload"></a></p> <p>User Enrollment配下のデバイスでは、組織からアプリケーションをインストールさせる場合、アプリケーションごとにエンドユーザーが許可および拒否が選択できます。 しかし、これだとMDMベンダーの管理アプリケーションすらインストールされない可能性があります。</p> <p>この問題を解決するために、User Enrollment配下のデバイスに対して、1つだけ強制的にアプリケーションをインストールできるようになる予定です。 アプリケーションのインストールの同意に関しては、User Enrollmentのプロファイルのインストール中に行われるため、無断でインストールされるわけではありません。</p> <h3 id="managed-pasteboard">Managed pasteboard</h3> <p><a href="/assets/posts/post/2021-06-24-1/managed_pasteboard.png" data-fancybox="images" data-caption="What’s new in managing Apple devicesのセッションで発表されたManaged pasteboard"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="What’s new in managing Apple devicesのセッションで発表されたManaged pasteboard" data-src="/assets/posts/post/2021-06-24-1/managed_pasteboard.png" class="lazyload"></a></p> <p>User Enrollment配下のデバイスの対してManaged Open Inと呼ばれる機能があります。 これにより、管理対象アプリケーションと管理対象外アプリケーションとの間で「共有」機能を介して添付ファイルや文書の行き来を制限できるようになりました。</p> <p>このManaged Open Inのクリップボード版が<strong>Managed pasteboard</strong>です。 管理対象アプリケーションからコピーされた情報を管理対象外アプリケーションに貼り付け、およびその逆を行えません。</p> <ul> <li>カレンダー</li> <li>メモ</li> <li>メール</li> <li>ファイル</li> </ul> <p>に対してもこの制限が適用されます。</p> <p>現実的には、たとえばTwitterで見つけた記事を管理対象のチャットサービスに共有したいということがしばしばあります。 しかし、Managed Open Inを適用してしまうと、このようなユースケースが実現できなくなります。 これはエンドユーザーにとって良いUXではありません。</p> <p>個人的には、「管理対象アプリケーションのOutは許可しないが、Inだけは許可する」といったような機能がないとManaged pasteboardを有効化しても同様の問題が発生する可能性があると考えています。</p> <h3 id="共有ipadにおける機能の強化">共有iPadにおける機能の強化</h3> <p><a href="/assets/posts/post/2021-06-24-1/shared_ipad_new_features.png" data-fancybox="images" data-caption="What’s new in managing Apple devicesのセッションで発表されたShared iPadの機能追加"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="What’s new in managing Apple devicesのセッションで発表されたShared iPadの機能追加" data-src="/assets/posts/post/2021-06-24-1/shared_ipad_new_features.png" class="lazyload"></a></p> <p>共有iPadにおいて一時的にログインができる一時セッションの機能が、昨年のWWDCで発表されました。<sup id="fnref:kenchan0130-2020-07-01-1-shared-ipad"><a href="#fn:kenchan0130-2020-07-01-1-shared-ipad" class="footnote" rel="footnote" role="doc-noteref">1</a></sup> この機能追加により、</p> <ul> <li>ユーザーログインを一時セッションのユーザーのみの制限</li> <li>一時セッションのユーザーがログインできる最大期間の設定</li> <li>すべてのユーザーがログインできる最大期間の設定</li> </ul> <p>の3つの機能が追加されました。 これらはiPadOS 14.5から使用できます。</p> <h3 id="user-enrollment配下のデバイスの管理アカウント情報確認画面">User Enrollment配下のデバイスの管理アカウント情報確認画面</h3> <p><a href="/assets/posts/post/2021-06-24-1/managed_account_to_be_displayed_on_top_of_settings.png" data-fancybox="images" data-caption="Discover account-driven User Enrollmentのセッションで発表された管理アカウント情報への導線追加"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Discover account-driven User Enrollmentのセッションで発表された管理アカウント情報への導線追加" data-src="/assets/posts/post/2021-06-24-1/managed_account_to_be_displayed_on_top_of_settings.png" class="lazyload"></a></p> <p>User Enrollment、つまりBYDO化されたデバイスにおいて、「設定」アプリケーションのトップに管理アカウント情報にアクセスするための動線が追加される予定です。管理アカウント情報の画面からはプロファイルなどの確認ができます。</p> <p>今までは「設定」アプリケーションの<strong>一般 &gt; プロファイルとデバイス管理</strong>の該当プロファイル画面でしか確認できなかったため、管理アカウント情報にアクセスしやすくなります。</p> <h3 id="iosipadosにおけるmanaged-apple-idのicloudドライブのサポート">iOS/iPadOSにおけるManaged Apple IDのiCloudドライブのサポート</h3> <p><a href="/assets/posts/post/2021-06-24-1/support_icloud_drive_with_managed_apple_id_on_ios_ipados.png" data-fancybox="images" data-caption="Discover account-driven User Enrollmentのセッションで発表されたiOS/iPadOSにおけるManaged Apple IdでのiCloud Drivesサポート"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Discover account-driven User Enrollmentのセッションで発表されたiOS/iPadOSにおけるManaged Apple IdでのiCloud Drivesサポート" data-src="/assets/posts/post/2021-06-24-1/support_icloud_drive_with_managed_apple_id_on_ios_ipados.png" class="lazyload"></a></p> <p>Managed Apple IDを使用してiCloudドライブが使えるようになる予定です。 iCloudドライブのデフォルトの容量は5GBですが、容量の追加などについては発表がありませんでした。</p> <p>もしできるとなると、Apple Business ManagerやApple School Manager上で操作することになると予想しています。</p> <h3 id="新しいuser-enrollmentのオンボーディングフロー">新しいUser Enrollmentのオンボーディングフロー</h3> <p><a href="/assets/posts/post/2021-06-24-1/start_sign_in_to_work_or_school_account.png" data-fancybox="images" data-caption="Discover account-driven User Enrollmentのセッションで発表された新しいUser Enrollmentのオンボーディングのスタート"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Discover account-driven User Enrollmentのセッションで発表された新しいUser Enrollmentのオンボーディングのスタート" data-src="/assets/posts/post/2021-06-24-1/start_sign_in_to_work_or_school_account.png" class="lazyload"></a></p> <p>User Enrollmentは、今まで最初にプロファイルをダウンロードして登録処理を行っていました。 新しいオンボーディングフローでは、以下のようになります。</p> <ol> <li>デバイス上で組織のアカウント情報を入力</li> <li>アカウント情報からドメイン情報を判別</li> <li> <code class="language-plaintext highlighter-rouge">https://アカウント情報のドメイン/.well-known/com.apple.remotemanagement</code> に対してGETリクエストを送信しJSONを取得</li> <li>JSON内のMDMサーバーのURLにアクセスして、MDMサーバー側でユーザーを認証</li> <li>MDMサーバー上で事前にユーザーに紐付けたManaged Apple IDを使用してユーザーを認証 <ul> <li>Managed Apple IDの認証画面において、Managed Apple IDのメールアドレスが自動で補完される挙動のようですので、Managed Apple IDを紐付けなくてもよい可能性があります</li> </ul> </li> <li>User Enrollmentのためのプロファイルがダウンロードされ、デバイスをBYOD化</li> </ol> <p>上記のフローにおける <code class="language-plaintext highlighter-rouge">https://アカウント情報のドメイン/.well-known/com.apple.remotemanagement</code> にGETリクエストを行った場合、</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"Servers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mdm-byod"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"BaseURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MDMサーバーのURL"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>のようなJSONを返すようにする必要があります。 また、未確認ですが、<code class="language-plaintext highlighter-rouge">Servers</code>が配列であるため、MDMサーバーを複数指定したら選択できるかもしれません。</p> <p>フローが少々分かりづらいため、おそらくこうであろうと思われるシーケンス図を書いてみました。 もし間違っていましたらご指摘ください。</p> <p><a href="/assets/posts/post/2021-06-24-1/new_user_enrollment_sequence.png" data-fancybox="images" data-caption="新しいUser Enrollmentのオンボーディングフローの予想シーケンス図"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="新しいUser Enrollmentのオンボーディングフローの予想シーケンス図" data-src="/assets/posts/post/2021-06-24-1/new_user_enrollment_sequence.png" class="lazyload"></a></p> <h2 id="macosに関連するアップデート">macOSに関連するアップデート</h2> <p>主に2021年秋にリリース予定のmacOS Montereyにて追加される新機能や関連するアプリケーションなどを紹介します。</p> <p>macOS Big Surのマイナーアップデートに関しては、<a href="https://support.apple.com/en-lamr/HT211911" target="_blank" rel="noopener noreferrer">What’s new for enterprise in macOS Big Sur</a>も合わせてご確認ください。</p> <h3 id="system-extensionの削除機能">System Extensionの削除機能</h3> <p><a href="/assets/posts/post/2021-06-24-1/managing_system_extension.png" data-fancybox="images" data-caption="What’s new in managing Apple devicesのセッションで発表されたSystem Extensionの削除機能"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="What’s new in managing Apple devicesのセッションで発表されたSystem Extensionの削除機能" data-src="/assets/posts/post/2021-06-24-1/managing_system_extension.png" class="lazyload"></a></p> <p>管理者はMDMを介して、任意のアプリケーションがSystem Extensionを使用する場合、System Extensionを許可しアクティブにできました。 しかし、該当のアプリケーションを削除しても、System Extensionの情報がデバイスに残ったままになっていました。<sup id="fnref:remove-system-extension-workaround"><a href="#fn:remove-system-extension-workaround" class="footnote" rel="footnote" role="doc-noteref">2</a></sup></p> <p>今回のアップデートにより、System Extensionがリムーバブルとなります。</p> <p>おそらくですが、<code class="language-plaintext highlighter-rouge">systemextensionsctl reset</code>コマンドなどを用いて、管理者権限を用いずともSystem Extensionを削除できるようになると考えています。</p> <h3 id="restartdeviceコマンドの強化">RestartDeviceコマンドの強化</h3> <p><a href="/assets/posts/post/2021-06-24-1/kernel_extensions.png" data-fancybox="images" data-caption="What’s new in managing Apple devicesのセッションで発表されたKernal extensionsに関連する機能"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="What’s new in managing Apple devicesのセッションで発表されたKernal extensionsに関連する機能" data-src="/assets/posts/post/2021-06-24-1/kernel_extensions.png" class="lazyload"></a></p> <p><code class="language-plaintext highlighter-rouge">RestartDevice</code>コマンドでは、Big Surから以下の2つのオプションが使用できるようになりました。</p> <ul> <li>カーネルキャッシュの再構築 <ul> <li>Kernel Extensionsをロードできるようにする</li> </ul> </li> <li>OSによって検出されないKernel Extensionsを指定 <ul> <li>再起動前にユーザーがKernel Extensionsを内包するアプリケーションを起動しなくても、Kernel Extensionsを読み込むことができる</li> </ul> </li> </ul> <p>今回新たに<strong>エンドユーザーに対して通知を表示する</strong>オプションが追加される予定です。 これにより表示されるプロンプトをクリックすると、グレースフルシャットダウンが実行されます。</p> <p>この機能はJamf Proには実装されていないため<sup id="fnref:macos-remote-restart-and-shutdown-via-mdm-command"><a href="#fn:macos-remote-restart-and-shutdown-via-mdm-command" class="footnote" rel="footnote" role="doc-noteref">3</a></sup> <sup id="fnref:jamf-now-remotely-restarting-or-shutting-down-devices"><a href="#fn:jamf-now-remotely-restarting-or-shutting-down-devices" class="footnote" rel="footnote" role="doc-noteref">4</a></sup>（正確にはAPI経由では実行できます）、存在を知りませんでしたが、エンドユーザーにとっては、なぜ再起動されるのかがわかると次のアクションつなげやすかったり、安心できたりするので良いと思います。</p> <h3 id="appleシリコンのリモートロック機能">Appleシリコンのリモートロック機能</h3> <p><a href="/assets/posts/post/2021-06-24-1/apple_silicon_remote_lock.png" data-fancybox="images" data-caption="What’s new in managing Apple devicesのセッションで発表されたAppleシリコンのRemote lock機能"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="What’s new in managing Apple devicesのセッションで発表されたAppleシリコンのRemote lock機能" data-src="/assets/posts/post/2021-06-24-1/apple_silicon_remote_lock.png" class="lazyload"></a></p> <p>今までAppleシリコンを搭載したMacでは、<code class="language-plaintext highlighter-rouge">DeviceLock</code>コマンドを実行するとrecoveryOSが起動していました。<sup id="fnref:kenchan0130-2020-12-28-1"><a href="#fn:kenchan0130-2020-12-28-1" class="footnote" rel="footnote" role="doc-noteref">5</a></sup></p> <p>今回のアップデートにより、Intel版のMac同様、管理者は6桁のPINを使用してデバイスをリモートでロックできます。 また、リモートロックの画面にはメッセージと電話番号を表示できます。これもIntel版と同様の挙動です。</p> <h3 id="appleシリコンのリカバリパスワード機能">Appleシリコンのリカバリパスワード機能</h3> <p><a href="/assets/posts/post/2021-06-24-1/apple_silicon_recovery_password.png" data-fancybox="images" data-caption="What’s new in managing Apple devicesのセッションで発表されたAppleシリコンのリカバリパスワード機能"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="What’s new in managing Apple devicesのセッションで発表されたAppleシリコンのリカバリパスワード機能" data-src="/assets/posts/post/2021-06-24-1/apple_silicon_recovery_password.png" class="lazyload"></a></p> <p>Appleシリコンを搭載したMacでは、リカバリモードで起動すると、初期化や意図しないデータへのアクセスが可能でした。</p> <p>今回のアップデートにより、Appleシリコンを搭載したMacをリカバリモードで起動する際に、事前にMDMで設定したパスワードを入力を要求できるようになる予定です。 デバイスからMDMが登録解除されると、このパスワードは自動的に削除されるそうです。</p> <p>Intel版のMacでは、ファームウェアパスワードを設定することでリカバリモードの起動を制限できていましたが、AppleシリコンのMacではファームウェアパスワードが使用できなくなっていました。 この機能を使用すると、ファームウェアパスワードよりも柔軟に制限が可能となります。</p> <p>この機能をアクティベーションロック機能と一緒に使用することが推奨されるそうですが、Managed Apple IDではアクティベーションロック機能が使用できないため、個人的にはぜひそこをなんとかしてほしいと思いました。</p> <p>ここで言う「<strong>デバイスからMDMが登録解除される</strong>」が、</p> <ul> <li>該当プロファイルの削除</li> <li>Apple Business Manager/Apple School MangerでMDMのデバイス割り当ての解除</li> </ul> <p>のどちらを指しているかがわからなかったため、もしわかる方がいらっしゃいましたら教えてください。</p> <h3 id="すべてのコンテンツと設定を消去する機能">すべてのコンテンツと設定を消去する機能</h3> <p><a href="/assets/posts/post/2021-06-24-1/apple_silicon_recovery_password.png" data-fancybox="images" data-caption="What’s new in managing Apple devicesのセッションで発表されたすべてのコンテンツと設定の消去する機能"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="What’s new in managing Apple devicesのセッションで発表されたすべてのコンテンツと設定の消去する機能" data-src="/assets/posts/post/2021-06-24-1/apple_silicon_recovery_password.png" class="lazyload"></a></p> <p>Macデバイスを初期化する場合、リカバリモードからデータを削除してOSをインストールし直す必要がありました。</p> <p>今回のアップデートにより、AppleシリコンまたはT2セキュリティチップを搭載したMacデバイスのみ、<code class="language-plaintext highlighter-rouge">EraseDevice</code>コマンドおよびシステム環境設定のペインからiOS/iPadOSのように、すぐに初期化できます。</p> <p>また、この機能を制限するための新しい<code class="language-plaintext highlighter-rouge">allowEraseContentAndSettings</code>属性も追加されます。</p> <p>もしコマンドラインなど、API呼び出しにより「すべてのコンテンツと設定を消去」が実行できる場合、ワイパーウェアのようなものが出回ることが想定されます。 ただ、Apple社もすでにこれについて考慮しているそうですので、大きく心配する必要はないかもしれません。</p> <h3 id="user-enrollment配下のデバイスの管理対象アプリケーションのボリューム分離">User Enrollment配下のデバイスの管理対象アプリケーションのボリューム分離</h3> <p><a href="/assets/posts/post/2021-06-24-1/managed_apps_for_user_enrollments.png" data-fancybox="images" data-caption="Discover account-driven User Enrollmentのセッションで発表されたmacOSにおけるUser Enrollment配下のManaged appsについて"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Discover account-driven User Enrollmentのセッションで発表されたmacOSにおけるUser Enrollment配下のManaged appsについて" data-src="/assets/posts/post/2021-06-24-1/managed_apps_for_user_enrollments.png" class="lazyload"></a></p> <p>iOS/iPadOSのアップデートと同様に、管理対象アプリケーションのデータは別のボリュームに分離されるようになる予定です。 合わせて、MDMコマンドまたはデバイスがMDMから登録解除された際に、管理対象アプリケーションが削除される挙動になる予定です。</p> <p>これは予想ですが、該当のアプリケーションが任意のディレクトリやファイルを操作している場合はそこまで追跡できないため、完璧にアプリケーションに関連するデータが削除されるわけではないと考えています。</p> <h3 id="macosにおけるmanaged-apple-idのicloudドライブのサポート">macOSにおけるManaged Apple IDのiCloudドライブのサポート</h3> <p><a href="/assets/posts/post/2021-06-24-1/support_icloud_drive_with_managed_apple_id_on_macos.png" data-fancybox="images" data-caption="Discover account-driven User Enrollmentのセッションで発表されたmacOSにおけるManaged Apple IdでのiCloud Drivesサポート"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Discover account-driven User Enrollmentのセッションで発表されたmacOSにおけるManaged Apple IdでのiCloud Drivesサポート" data-src="/assets/posts/post/2021-06-24-1/support_icloud_drive_with_managed_apple_id_on_macos.png" class="lazyload"></a></p> <p>iOS/iPadOSのアップデートと同様に、Managed Apple IDを使用してiCloudドライブが使えるようになる予定です。</p> <h3 id="apple-configuratorによるリストアとリバイブ">Apple Configuratorによるリストアとリバイブ</h3> <p><a href="/assets/posts/post/2021-06-24-1/restore_and_revive_with_apple_configurator.png" data-fancybox="images" data-caption="Manage devices with Apple Configuratorのセッションで発表されたApple Configuratorを用いたMacデバイスのリストアとリバイブ"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Manage devices with Apple Configuratorのセッションで発表されたApple Configuratorを用いたMacデバイスのリストアとリバイブ" data-src="/assets/posts/post/2021-06-24-1/restore_and_revive_with_apple_configurator.png" class="lazyload"></a></p> <p>Apple Configuratorを用いてリストアを実行すると、AppleシリコンまたはT2セキュリティチップを搭載したMacデバイスにおいて、</p> <ul> <li>すべてのコンテンツと設定の消去</li> <li>ファームウェアとリカバリOSの更新</li> <li>最新のmacOSバージョンが再インストール <ul> <li>Appleシリコンを搭載したMacのみ</li> </ul> </li> </ul> <p>が実現できます。</p> <p>これにより、Macデバイスを新しいユーザーに渡すことができます。</p> <p>また、リバイブを実行すると、AppleシリコンまたはT2セキュリティチップを搭載したMacデバイスにおいて、ユーザーデータを保存しながらMacデバイスを復元できます。</p> <p>これにより、ソフトウェアアップデート中に電源が切れてしまった場合などの復旧に使用できます。</p> <p>この操作には、正しいThunderboltのポートにつなぐ必要がある点に注意が必要です。</p> <p><a href="/assets/posts/post/2021-06-24-1/apple_configurator_mac_correct_port.png" data-fancybox="images" data-caption="Manage devices with Apple Configuratorのセッションで説明されたポートの違いについて"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Manage devices with Apple Configuratorのセッションで説明されたポートの違いについて" data-src="/assets/posts/post/2021-06-24-1/apple_configurator_mac_correct_port.png" class="lazyload"></a></p> <h3 id="apple-configuratorによるapple-business-managerapple-school-managerへのデバイス登録">Apple ConfiguratorによるApple Business Manager/Apple School Managerへのデバイス登録</h3> <p><a href="/assets/posts/post/2021-06-24-1/apple_configurator_for_iphone.png" data-fancybox="images" data-caption="Manage devices with Apple Configuratorのセッションで発表されたApple Configurator for iPhone"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Manage devices with Apple Configuratorのセッションで発表されたApple Configurator for iPhone" data-src="/assets/posts/post/2021-06-24-1/apple_configurator_for_iphone.png" class="lazyload"></a></p> <p>Apple Configuratorには、正規のビジネスチャネルで購入していないiOS/iPadOSのデバイスを、Apple Business Manager/Apple School Managerに追加（Device Enrollmentを使用）する機能があります。</p> <p>今回のアップデートにより、AppleシリコンまたはT2セキュリティチップを搭載したMacデバイスでも、Apple Business Manager/Apple School Managerに追加（Device Enrollmentを使用）できるようになる予定です。 これには、新しくリリースされるiPhone版のApple Configuratorが必要です。</p> <p>以下の手順で、Apple Business Manager/Apple School Managerに登録されます。</p> <ol> <li>デバイスをアサインできる管理者の権限を持ったManaged Apple IDでログイン</li> <li>iPhoneとMacデバイスを同じWi-Fiネットワーク内に接続する</li> <li>Macデバイスのセットアップアシスタントの言語を選択</li> <li>国と地域の選択画面で、Apple Configuratorを起動したiPhoneを近付ける</li> <li>Macデバイスにアニメーションが表示されたら、Apple Configuratorのカメラでアニメーションをキャプチャ</li> </ol> <p>Apple Business Manager/Apple School ManagerでMDMサーバーにアサインし、Macを再起動すればDevice Enrollmentが始まります。</p> <p>管理者としては組織で貸与しているMacデバイスはUser Enrollmentではなく、Device Enrollmentにしたいはずです。 そうなると、すでにエンドユーザーが使用しており、User Enrollmentなデバイスが問題になってきます。</p> <p>これはあくまで推測であり、試してみないとわかりませんが、</p> <ol> <li>MDMに関するプロファイルをすべて削除</li> <li> <code class="language-plaintext highlighter-rouge">/var/db/.AppleSetupDone</code> を削除</li> <li>Macデバイスを再起動</li> </ol> <p>の手順を踏んで、再度セットアップアシスタントが起動するしくみを応用して、User EnrollmentなデバイスをDevice Enrollmentなデバイスにできるかもしれません。</p> <h3 id="ソフトウェアアップデートの延期方法の拡充">ソフトウェアアップデートの延期方法の拡充</h3> <p><a href="/assets/posts/post/2021-06-24-1/deferral_windows_macos.png" data-fancybox="images" data-caption="Manage software updates in your organizationのセッションで発表されたソフトウェアアップデートの延期方法の拡充"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Manage software updates in your organizationのセッションで発表されたソフトウェアアップデートの延期方法の拡充" data-src="/assets/posts/post/2021-06-24-1/deferral_windows_macos.png" class="lazyload"></a></p> <p>macOS 10.13以降、ソフトウェアアップデートを遅延できていました。</p> <p>macOS 11.3からは、メジャーバーションのアップグレードをマイナーバージョンのアップグレードよりも長く遅らせることができるようになりました。</p> <p>これにより、既存のOSバージョンのマイナーバージョンおよびセキュリティアップデートをインストールできます。</p> <h3 id="appleシリコンの非対話型のソフトウェアアップデート">Appleシリコンの非対話型のソフトウェアアップデート</h3> <p><a href="/assets/posts/post/2021-06-24-1/install_later_macos.png" data-fancybox="images" data-caption="Manage software updates in your organizationのセッションで発表されたInstallLaterコマンドについて"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Manage software updates in your organizationのセッションで発表されたInstallLaterコマンドについて" data-src="/assets/posts/post/2021-06-24-1/install_later_macos.png" class="lazyload"></a></p> <p>Appleシリコンを搭載したMacデバイスの場合、ソフトウェアアップデートには認証またはBootstrap Tokenが必要です。</p> <p>インタラクティブにアップデートする場合は、エンドユーザーの認証が要求されます。 macOS 11.2以降、Bootstrap Tokenによる非対話型のソフトウェアアップデートが可能となりました。</p> <p>macOS Monterey以降、Bootstrap Tokenと<code class="language-plaintext highlighter-rouge">InstallLater</code>というMDMコマンドを介して、デバイスが現在使用されていないことが検出して自動でソフトウェアアップデートが実行できるようになる予定です。</p> <p>Intel版のMacデバイスでは「ソフトウェアアップデートが存在するかを確認して、存在していたら<code class="language-plaintext highlighter-rouge">softwareupdate</code>コマンドを実行する」といったスクリプトを書いて同様の機能を実現していました。 Appleシリコン版のMacデバイスで同じようなことをしようとすると少々面倒であったため、個人的にはうれしいアップデートだと思います。</p> <h3 id="ソフトウェアアップデートの延期上限機能">ソフトウェアアップデートの延期上限機能</h3> <p><a href="/assets/posts/post/2021-06-24-1/user_deferral_quota_macos.png" data-fancybox="images" data-caption="Manage software updates in your organizationのセッションで発表されたUser deferral quotaについて"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Manage software updates in your organizationのセッションで発表されたUser deferral quotaについて" data-src="/assets/posts/post/2021-06-24-1/user_deferral_quota_macos.png" class="lazyload"></a></p> <p>ソフトウェアアップデートを利用できるようにした際に、エンドユーザーが常に延期やキャンセルを行うことは望ましい状態ではありません。</p> <p>macOS Montereyでは、ソフトウェアアップデートの延期やキャンセルを行える上限を設定できるようになる予定です。 最大で3回まで設定でき、猶予を超えると強制的にソフトウェアアップデートが適用されます。</p> <h2 id="mdmベンダー向けのアップデート">MDMベンダー向けのアップデート</h2> <h3 id="macosのapple-software-lookupサポート">macOSのApple Software Lookupサポート</h3> <p><a href="/assets/posts/post/2021-06-24-1/check_for_updates_macos.png" data-fancybox="images" data-caption="Manage software updates in your organizationのセッションで発表されたmacOSのApple Software Lookupサポート"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Manage software updates in your organizationのセッションで発表されたmacOSのApple Software Lookupサポート" data-src="/assets/posts/post/2021-06-24-1/check_for_updates_macos.png" class="lazyload"></a></p> <p>iOS/iPadOSの場合、MDMソリューションはApple Software Lookup Service<sup id="fnref:apple-software-lookup-service"><a href="#fn:apple-software-lookup-service" class="footnote" rel="footnote" role="doc-noteref">6</a></sup>を介して利用可能なアップデートを認識し、デバイスに直接コマンドをプッシュしています。</p> <p>macOS Montereyでは、iOS/iPadOS同様にApple Software Lookup Serviceを使用したプロセスをサポートする予定です。</p> <h3 id="アセット管理apiの非同期処理">アセット管理APIの非同期処理</h3> <p><a href="/assets/posts/post/2021-06-24-1/asynchronous_processing.png" data-fancybox="images" data-caption="Improve MDM assignment of Apps and Booksのセッションで発表されたアセット管理APIの非同期処理"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Improve MDM assignment of Apps and Booksのセッションで発表されたアセット管理APIの非同期処理" data-src="/assets/posts/post/2021-06-24-1/asynchronous_processing.png" class="lazyload"></a></p> <p>今まではアセット（組織がApple Business Manager/Apple School Managerで購入したアプリケーションや書籍）の管理に関するAPIの処理は同期的に行われていました。</p> <p>そのため、大規模な組織でアセットをデバイスなどにアサインすると、パフォーマンスに影響がでてしまい多くの時間がかかっていました。</p> <p>今回のアップデートにより、アセット管理のAPIが非同期で処理を行えるようになり、この課題を解決できる予定です。</p> <h3 id="mdmサーバーへのリアルタイム通知">MDMサーバーへのリアルタイム通知</h3> <p><a href="/assets/posts/post/2021-06-24-1/realtime_notifications.png" data-fancybox="images" data-caption="Improve MDM assignment of Apps and Booksのセッションで発表されたリアルタイムリアルタイム通知"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Improve MDM assignment of Apps and Booksのセッションで発表されたリアルタイムリアルタイム通知" data-src="/assets/posts/post/2021-06-24-1/realtime_notifications.png" class="lazyload"></a></p> <p>MDMサーバーが以下の通知をサブスクライブできるようになる予定です。</p> <ul> <li>アセットの状況</li> <li>アセットが組織で管理されているユーザーやデバイスへの割り当ておよび取り外し</li> <li>登録ユーザーの状態変更 <ul> <li>デバイスに対してアセットを割り当てることが多いかもしれないが、ユーザーに対してアセットを割り当てることもでき、その際にはユーザー登録が必要となる</li> </ul> </li> </ul> <p>非同期処理と合わせることで、アセットを一括で操作する際などのパフォーマンスが向上する可能性があります。</p> <h3 id="declarative-device-management">Declarative Device Management</h3> <p><a href="/assets/posts/post/2021-06-24-1/declarative_device_management_summary.png" data-fancybox="images" data-caption="Meet declarative device managementのセッションで発表されたDeclarative Device Managementのサマリ"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Meet declarative device managementのセッションで発表されたDeclarative Device Managementのサマリ" data-src="/assets/posts/post/2021-06-24-1/declarative_device_management_summary.png" class="lazyload"></a></p> <p>既存のMDMプロトコルではデバイスの数が増えると、MDMサーバーのパフォーマンスに大きな影響を与える可能性があります。</p> <p>この問題を解決するためにDeclarative Device Managementと呼ばれる既存のMDMプロトコルを拡張する新たなパラダイムを導入する予定です。</p> <p>まだiOS/iPadOSのUser Enrollmentでしか使用できないですが、Device EnrollmentやmacOSにも導入されるかもしれません。</p> <p>詳しくは<a href="https://developer.apple.com/videos/play/wwdc2021/10131/" target="_blank" rel="noopener noreferrer">Meet declarative device management | WWDC2021</a>を参照してください。</p> <h2 id="終わりに">終わりに</h2> <p>個人的には、MacデバイスのDevice Enrollment化できる機能は長らく待ち続けていた機能であるためとてもうれしいアップデートでした。</p> <p>だた、Appleシリコン版のMacデバイスに関しては、少しずつIntel版のMacデバイスでもできていたことができてきたという印象でした。 また、各種アップデートに関しても、管理者およびエンドユーザーの体験を大きく変えるようなものはないという感が否めません。</p> <p>Apple社にはぜひ今後のエンタープライズの機能の開発に、より力を入れてほしいと思った次第です。</p> <p>今回紹介していない内容やアップデートされる機能などもあります。 以下はWWDC 2021のエンタープライズに関連するセッションの一覧です。ぜひ一次情報もご確認ください。</p> <ul> <li><a href="https://developer.apple.com/videos/play/wwdc2021/10130/" target="_blank" rel="noopener noreferrer">What’s new in managing Apple devices</a></li> <li><a href="https://developer.apple.com/videos/play/wwdc2021/10297/" target="_blank" rel="noopener noreferrer">Manage devices with Apple Configurator</a></li> <li><a href="https://developer.apple.com/videos/play/wwdc2021/10129/" target="_blank" rel="noopener noreferrer">Manage software updates in your organization</a></li> <li><a href="https://developer.apple.com/videos/play/wwdc2021/10136/" target="_blank" rel="noopener noreferrer">Discover account-driven User Enrollment</a></li> <li><a href="https://developer.apple.com/videos/play/wwdc2021/10137/" target="_blank" rel="noopener noreferrer">Improve MDM assignment of Apps and Books</a></li> <li><a href="https://developer.apple.com/videos/play/wwdc2021/10131/" target="_blank" rel="noopener noreferrer">Meet declarative device management</a></li> </ul> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:kenchan0130-2020-07-01-1-shared-ipad"> <p>私の「<a href="/post/2020-07-01-1">WWDC 2020で発表されたエンタープライズ関連の新機能 - 共有iPadの改善</a>」記事でも紹介している <a href="#fnref:kenchan0130-2020-07-01-1-shared-ipad" class="reversefootnote" role="doc-backlink">↩</a></p> </li> <li id="fn:remove-system-extension-workaround"> <p>System Integrity Protection（SIP）を無効にして<code class="language-plaintext highlighter-rouge">systemextensionsctl reset</code>コマンドを実行する方法、もしくはGUIで該当のSystem Extensionを含むアプリケーションをゴミ箱に移動するとダイアログがでてくるので、管理者権限でSystem Extensionを削除するという方法しかなかった <a href="#fnref:remove-system-extension-workaround" class="reversefootnote" role="doc-backlink">↩</a></p> </li> <li id="fn:macos-remote-restart-and-shutdown-via-mdm-command"> <p><a href="https://ideas.jamf.com/ideas/JN-I-21241" target="_blank" rel="noopener noreferrer">macOS remote Restart and Shutdown via MDM Commands</a>という機能リクエストは出ている <a href="#fnref:macos-remote-restart-and-shutdown-via-mdm-command" class="reversefootnote" role="doc-backlink">↩</a></p> </li> <li id="fn:jamf-now-remotely-restarting-or-shutting-down-devices"> <p>Jamf Nowには<a href="https://support.jamfnow.com/s/article/Remotely-Restarting-or-Shutting-Down-Devices" target="_blank" rel="noopener noreferrer">機能</a>として用意されている <a href="#fnref:jamf-now-remotely-restarting-or-shutting-down-devices" class="reversefootnote" role="doc-backlink">↩</a></p> </li> <li id="fn:kenchan0130-2020-12-28-1"> <p>「<a href="/post/2020-12-28-1">Appleシリコンを搭載したMacデバイスのロックの挙動について</a>」を参照 <a href="#fnref:kenchan0130-2020-12-28-1" class="reversefootnote" role="doc-backlink">↩</a></p> </li> <li id="fn:apple-software-lookup-service"> <p>https://gdmf.apple.com/v2/pmvにリストがホスティングされている <a href="#fnref:apple-software-lookup-service" class="reversefootnote" role="doc-backlink">↩</a></p> </li> </ol> </div> </article> <section class="share"> <a href="//twitter.com/share?text=WWDC+2021%E3%81%A7%E7%99%BA%E8%A1%A8%E3%81%95%E3%82%8C%E3%81%9F%E3%82%A8%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%97%E3%83%A9%E3%82%A4%E3%82%BA%E9%96%A2%E9%80%A3%E3%81%AE%E6%96%B0%E6%A9%9F%E8%83%BD&amp;url=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2021-06-24-1%3Futm_source%3Dtwitter%26utm_medium%3Dsocial&amp;via=kenchan0130" onclick="window.open(this.href, 'twitter-share', 'width=550,height=255,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-twitter fa-lg"></i> </a> <a href="//www.facebook.com/sharer.php?t=WWDC+2021%E3%81%A7%E7%99%BA%E8%A1%A8%E3%81%95%E3%82%8C%E3%81%9F%E3%82%A8%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%97%E3%83%A9%E3%82%A4%E3%82%BA%E9%96%A2%E9%80%A3%E3%81%AE%E6%96%B0%E6%A9%9F%E8%83%BD&amp;u=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2021-06-24-1%3Futm_source%3Dfacebook%26utm_medium%3Dsocial" onclick="window.open(this.href, 'facebook-share', 'width=550,height=255,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-facebook fa-lg"></i> </a> <a href="//b.hatena.ne.jp/entry/panel/?btitle=WWDC+2021%E3%81%A7%E7%99%BA%E8%A1%A8%E3%81%95%E3%82%8C%E3%81%9F%E3%82%A8%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%97%E3%83%A9%E3%82%A4%E3%82%BA%E9%96%A2%E9%80%A3%E3%81%AE%E6%96%B0%E6%A9%9F%E8%83%BD&amp;url=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2021-06-24-1" onclick="window.open(this.href, 'hatena-share', 'width=550,height=600,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-hatena fa-lg"></i> </a> </section> <section class="post-donation"> <div class="post-donation-panel"> <p class="post-donation-description"> 参考になった・面白かったと感じていただけましたら、サポートいただけると励みになります。 </p> <a class="post-donation-button" href="https://www.buymeacoffee.com/kenchan0130" onclick="gtag('event', 'click-buymeacoffee', { event_category: 'www.buymeacoffee.com/kenchan0130', event_label: '/post/2021-06-24-1' });" target="_blank" rel="noopener noreferrer"> <p class="post-donation-button-body"> <img class="icon lazyload" alt="buymeacoffee" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg"> <span class="label">サポートする</span> </p> </a> </div> </section> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2444060431947599" data-ad-slot="7319689305" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> <section class="sub-contents related-posts"> <div class="sub-contents-wrapper"> <div class="sub-contents-title">あわせて読みたい</div> <div class="sub-contents-main"> <li> <a href="/post/2025-06-19-1">WWDC 2025で発表されたエンタープライズ関連の新機能</a> <span class="post-date">- June 19, 2025</span> </li> <li> <a href="/post/2024-06-19-1">WWDC 2024で発表されたエンタープライズ関連の新機能</a> <span class="post-date">- June 19, 2024</span> </li> <li> <a href="/post/2022-08-18-1">WWDC 2022で発表されたエンタープライズ関連の新機能</a> <span class="post-date">- August 18, 2022</span> </li> <li> <a href="/post/2020-07-01-1">WWDC 2020で発表されたエンタープライズ関連の新機能</a> <span class="post-date">- July 1, 2020</span> </li> <li> <a href="/post/2020-02-13-1">Jamf Pro ServerにSSOを設定</a> <span class="post-date">- February 13, 2020</span> </li> </div> </div> </section> <section class="sub-contents tags"> <div class="sub-contents-wrapper"> <div class="sub-contents-title">Tags</div> <div class="sub-contents-main"> <a href="/tag/apple">Apple</a> <a href="/tag/education">Education</a> <a href="/tag/enterprise">Enterprise</a> <a href="/tag/ios">iOS</a> <a href="/tag/ipados">iPadOS</a> <a href="/tag/macos">macOS</a> <a href="/tag/mdm">MDM</a> <a href="/tag/jamf">Jamf</a> </div> </div> </section> </div> </div> </div> <footer class="site-footer"> <div class="wrapper"> <h3 class="footer-heading">kenchan0130 blog</h3> <div class="site-navigation"> <p><strong>Site Map</strong></p> <ul class="pages"> <li class="nav-link"> <a href="/archives">Archives</a> </li> <li class="nav-link"> <a href="/privacy">Privacy Policy</a> </li> <li class="nav-link"> <a href="/profile">Profile</a> </li> <li class="nav-link"> <a href="/profile/resume">Resume</a> </li> </ul> </div> <div class="site-contact"> <p><strong>Contact</strong></p> <ul class="social-media-list"> <li> <a href="https://twitter.com/kenchan0130" title="Follow me on Twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> <span class="username">kenchan0130</span> </a> </li> <li> <a href="https://github.com/kenchan0130" title="Fork me on GitHub" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> <span class="username">kenchan0130</span> </a> </li> </ul> </div> <div class="site-signature"> <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p> <p class="text">ソフトウェアエンジニア。記録に残したいことを雑に備忘するブログ。 投稿内容は個人の見解であり所属する組織の公式見解ではありません。 </p> </div> </div> <div class="licence">このサイトのコンテンツは<a href="https://creativecommons.org/licenses/by/4.0/deed.ja" target="_blank" rel="noopener noreferrer">Creative Commons Attribution 4.0 International (CC-BY-4.0) License</a>の下でライセンスされています。</div> <div class="copyright">Copyright © 2017-2025 Tadayuki Onishi All Rights Reserved.</div> </footer> <script src="/assets/bundle/app.55445db2fff8ddfed8c5.js" async></script> <script async src="//www.googletagmanager.com/gtag/js?id=G-B7RX34Q5PL"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B7RX34Q5PL");</script> <script async src="//www.googletagmanager.com/gtag/js?id=UA-79827366-2"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-79827366-2");</script> </body> </html>