<!DOCTYPE html> <html> <!-- This page is used centrarium Jekyll theme Copyright (c) 2015 Ben Centra Released under the MIT license https://github.com/bencentra/centrarium/blob/daa0d16ba9156ad43f9980e2075023a0d48859a5/LICENSE.md --> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"> <title>FOLIOにおけるiOS/Android/macOSの端末管理とその運用について</title> <meta name="description" content="情報端末は会社にとって大切な資産であり、かつ社内情報システム業務の効率化のために端末管理を行う必要があります。 今回はiOS、Android、macOSといったあまり外部に情報が少ない、端末の管理におけるポリシーと運用を一部ですが紹介したいと思います。"> <meta name="author" content="Tadayuki Onishi"> <meta name="copyright" content="© Tadayuki Onishi 2025"> <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon"> <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon"> <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png"> <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png"> <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png"> <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png"> <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png"> <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png"> <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png"> <link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/android-icon-192x192.png"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png"> <link rel="manifest" href="/assets/icons/manifest.json"> <meta name="msapplication-TileColor" content="#ffffff"> <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png"> <meta name="theme-color" content="#ffffff"> <meta property="fb:app_id" content="376889769419405"> <meta property="og:description" content="情報端末は会社にとって大切な資産であり、かつ社内情報システム業務の効率化のために端末管理を行う必要があります。 今回はiOS、Android、macOSといったあまり外部に情報が少ない、端末の管理におけるポリシーと運用を一部ですが紹介したいと思います。"> <meta property="og:url" content="https://kenchan0130.github.io/post/2017-12-17-1"> <meta property="og:site_name" content="kenchan0130 blog"> <meta property="og:title" content="FOLIOにおけるiOS/Android/macOSの端末管理とその運用について"> <meta property="og:type" content="website"> <meta property="og:author" content="Tadayuki Onishi"> <meta property="og:image" content="https://kenchan0130.github.io/assets/posts/post/2017-12-17-1/cover.jpg"> <meta property="og:image:width" content="1920"> <meta property="og:image:height" content="1280"> <meta property="og:image:type" content="image/png"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:title" content="FOLIOにおけるiOS/Android/macOSの端末管理とその運用について"> <meta name="twitter:site" content="@kenchan0130"> <meta name="twitter:description" content="情報端末は会社にとって大切な資産であり、かつ社内情報システム業務の効率化のために端末管理を行う必要があります。 今回はiOS、Android、macOSといったあまり外部に情報が少ない、端末の管理におけるポリシーと運用を一部ですが紹介したいと思います。"> <meta name="twitter:image" content="https://kenchan0130.github.io/assets/posts/post/2017-12-17-1/cover.jpg"> <meta name="twitter:url" content="https://kenchan0130.github.io/post/2017-12-17-1"> <link rel="preload" as="style" href="/assets/bundle/app.55445db2fff8ddfed8c5.css" onload="this.onload=null;this.rel='stylesheet'"> <noscript> <link rel="stylesheet" href="/assets/bundle/app.55445db2fff8ddfed8c5.css"> </noscript> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="https://kenchan0130.github.io/post/2017-12-17-1"> <link rel="alternate" type="application/atom+xml" title="kenchan0130 blog" href="https://kenchan0130.github.io/feed.xml"> <meta name="google-site-verification" content="ZxlKORgZZwZ4TTmaQJFFEXLF3jmd6P_NVU9TEVW1bSg"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> </head> <body> <header class="navigation" role="banner"> <div class="navigation-wrapper"> <a href="/" class="logo"> <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kenchan0130 blog" data-src="/assets/logo.png" class="lazyload"> </a> <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu"> <i class="fas fa-bars"></i> </a> <nav role="navigation"> <ul id="js-navigation-menu" class="navigation-menu"> <li class="nav-search-box"> <div class="search-input-container"> <input type="search" class="search-input" id="js-search-input" placeholder="Search" autocomplete="off" onfocus="gtag('event', 'search', { event_category: 'www.algolia.com/apps/DEFR5IK9E2/explorer/browse/kenchan0130_blog', event_label: '/post/2017-12-17-1' });"> <i class="fa fa-search search-input-icon"></i> <template id="suggestion-template"> <a href="" onclick="gtag('event', 'click', { event_category: 'www.algolia.com/apps/DEFR5IK9E2/explorer/browse/kenchan0130_blog', event_label: this.href });"> <p class="suggestion-title js-suggestion-title"></p> <p class="suggestion-content js-suggestion-content"></p> </a> </template> </div> </li> <li class="nav-link"> <a href="/archives">Archives</a> </li> <li class="nav-link"> <a href="/profile">Profile</a> </li> </ul> </nav> </div> </header> <div class="page-content"> <div class="post"> <div class="post-header-container has-cover" style="background-image: url(/assets/posts/post/2017-12-17-1/cover.jpg);"> <div class="scrim has-cover"> <header class="post-header"> <h1 class="title">FOLIOにおけるiOS/Android/macOSの端末管理とその運用について</h1> </header> </div> </div> <div class="wrapper"> <section class="post-meta"> <div class="post-date">2017-12-17</div> <div class="post-categories"> <i class="fas fa-fw fa-book"></i> <a href="/category/system-administration">system-administration </a> </div> </section> <article class="post-content"> <p>これは <a href="https://qiita.com/advent-calendar/2017/folio-sec" target="_blank" rel="noopener noreferrer">FOLIO Advent Calendar 2017</a> の17日目の記事でもあります。</p> <p>最近<a href="http://www.tv-tokyo.co.jp/anime/toradora/" target="_blank" rel="noopener noreferrer">とらドラ！</a>を観返していて、もうそろそろ10年経つとか思うとゾッとします。</p> <p>さて、先日「<a href="/post/2017-12-03-1">Apple製品を会社として導入するための準備をした話</a>」を書きましたが、 準備だけではなく、具体的な導入についても気になる点かと思います。</p> <p>今回は、中々世に出てこないWindows端末以外のiOS、AndroidおよびmacOS端末をどういった感じで管理・運用していくと良いのか、 そのためにどのようなツールなどを使用しているかを一部紹介できればと思います。</p> <p>大人の事情により、一言。 この投稿に記載されているポリシーおよび記載した内容は、個人の意見を多く含んでおり、 FOLIOとして適用・運用し続けていることを保証するものではありません。</p> <ul id="markdown-toc"> <li><a href="#%E3%81%AA%E3%81%9C%E7%AB%AF%E6%9C%AB%E7%AE%A1%E7%90%86%E3%82%92%E8%A1%8C%E3%81%86%E3%81%AE%E3%81%8B" id="markdown-toc-なぜ端末管理を行うのか">なぜ端末管理を行うのか</a></li> <li> <a href="#%E7%AB%AF%E6%9C%AB%E3%81%AE%E9%81%B8%E5%AE%9A%E3%81%99%E3%82%8B%E3%81%AB%E3%81%82%E3%81%9F%E3%81%A3%E3%81%A6" id="markdown-toc-端末の選定するにあたって">端末の選定するにあたって</a> <ul> <li><a href="#%E4%BB%95%E5%85%A5%E5%85%88" id="markdown-toc-仕入先">仕入先</a></li> <li><a href="#%E4%BA%88%E7%AE%97" id="markdown-toc-予算">予算</a></li> <li><a href="#%E6%90%BA%E5%B8%AF%E6%80%A7" id="markdown-toc-携帯性">携帯性</a></li> <li><a href="#%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3" id="markdown-toc-セキュリティ">セキュリティ</a></li> <li><a href="#%E3%82%B9%E3%83%9A%E3%83%83%E3%82%AF" id="markdown-toc-スペック">スペック</a></li> </ul> </li> <li> <a href="#folio%E3%81%AEwindows%E7%AB%AF%E6%9C%AB%E4%BB%A5%E5%A4%96%E3%81%AE%E7%AB%AF%E6%9C%AB%E3%81%9F%E3%81%A1" id="markdown-toc-folioのwindows端末以外の端末たち">FOLIOのWindows端末以外の端末たち</a> <ul> <li><a href="#ios%E7%AB%AF%E6%9C%AB" id="markdown-toc-ios端末">iOS端末</a></li> <li><a href="#android%E7%AB%AF%E6%9C%AB" id="markdown-toc-android端末">Android端末</a></li> <li><a href="#macos%E7%AB%AF%E6%9C%AB" id="markdown-toc-macos端末">macOS端末</a></li> <li><a href="#%E7%B7%8A%E6%80%A5%E9%80%A3%E7%B5%A1%E7%94%A8%E9%80%94%E3%81%A8%E3%81%97%E3%81%A6ios%E7%AB%AF%E6%9C%AB%E3%82%92%E9%81%B8%E6%8A%9E%E3%81%99%E3%82%8B%E3%81%A8%E3%81%84%E3%81%86%E3%81%93%E3%81%A8" id="markdown-toc-緊急連絡用途としてios端末を選択するということ">緊急連絡用途としてiOS端末を選択するということ</a></li> </ul> </li> <li> <a href="#%E3%82%AD%E3%83%83%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0" id="markdown-toc-キッティング">キッティング</a> <ul> <li><a href="#%E3%82%AD%E3%83%83%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E5%8A%B9%E7%8E%87%E5%8C%96" id="markdown-toc-キッティング効率化">キッティング効率化</a></li> </ul> </li> <li> <a href="#%E9%81%8B%E7%94%A8%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8Btips" id="markdown-toc-運用におけるtips">運用におけるTips</a> <ul> <li><a href="#%E5%85%B1%E9%80%9A%E7%B7%A8" id="markdown-toc-共通編">共通編</a></li> <li><a href="#ios%E7%B7%A8" id="markdown-toc-ios編">iOS編</a></li> <li><a href="#android%E7%B7%A8" id="markdown-toc-android編">Android編</a></li> <li><a href="#macos%E7%B7%A8" id="markdown-toc-macos編">macOS編</a></li> </ul> </li> <li><a href="#%E3%81%BE%E3%81%A8%E3%82%81" id="markdown-toc-まとめ">まとめ</a></li> <li><a href="#%E5%AE%A3%E4%BC%9D" id="markdown-toc-宣伝">宣伝</a></li> </ul> <h2 id="なぜ端末管理を行うのか">なぜ端末管理を行うのか</h2> <ul> <li>情報セキュリティ対策</li> <li>不正利用対策</li> <li>ライセンス管理</li> <li>コスト削減につながる端末の稼働状況の確認および棚卸業務の最適化</li> </ul> <p>などとつらつら挙げましたが、情報端末は会社にとって大切な資産であり、 大切な情報も取り扱うため、適切に管理する必要があります。 また、現状把握のため社内情報システム業務において棚卸しなどを行いますが、 こういった業務を効率化する必要もあります。</p> <p>更に、FOLIOは証券会社であるため、主に<a href="http://www.fsa.go.jp/common/law/guide/kinyushohin/" target="_blank" rel="noopener noreferrer">金融商品取引業者等向けの総合的な監督指針</a>にもとづき、施策しています。 <a href="http://www.fsa.go.jp/common/law/guide/kinyushohin/03.html" target="_blank" rel="noopener noreferrer">金融商品取引業者等向けの総合的な監督指針 - 監督上の評価項目と諸手続</a>の<code class="language-plaintext highlighter-rouge">システムリスク管理態勢</code>の項目においても、</p> <blockquote> <p>情報資産について、管理ルール等に基づいて適切に管理されていることを定期的にモニタリングし、管理態勢を継続的に見直しているか。</p> </blockquote> <p>のように謳われており、やらないわけにはいきません。</p> <h2 id="端末の選定するにあたって">端末の選定するにあたって</h2> <p>特に基準を決めないで選定してしまうと、選択のブレが発生し、管理が煩雑になってしまうため、 一定の基準を設けると、これらの課題が解消または緩和されることがあります。</p> <p>挙げるとキリがないですが、パッと思い付くものですと、</p> <ul> <li>仕入先</li> <li>予算</li> <li>携帯性</li> <li>セキュリティ</li> <li>スペック</li> </ul> <p>あたりでしょうか。</p> <h3 id="仕入先">仕入先</h3> <p>信頼できる提供元から端末を仕入れるということは、基本的なことではありますが重要なことでもあります。</p> <p>端末は製品や取扱先によって品質に違いが出てきます。 ここで言う <strong>品質</strong> とは、バグの少なさや耐障害性、サポートなどを想定しています。 また、</p> <p>また、中古の場合、品質の低下や不正なプログラムの混入などの可能性があります。</p> <p>そのため、端末の購入は信頼できる提供元から購入するようにしましょう。</p> <h3 id="予算">予算</h3> <p>購入金額は一番みなさんが気にするポイントかと思います。 会社が出せるお金は有限であるため、予算によっては何かを妥協するという選択をとることもあります。</p> <p>安いことがすべてではないですが、 相見積を行うことで経費を削減できる可能性が高くなります。 さらに、視野が広くなり、より良い端末を選択することにもつながります。</p> <h3 id="携帯性">携帯性</h3> <p>会議室などに端末を持ち運び、電子化を進めることで、紙の管理コストを減らすことができます。</p> <p>また、場所にとらわれない働き方への挑戦や時間当たりの生産性を向上させる施策など、 働き方変革に取り組むことは、働きやすい会社の大きな一歩になることでしょう。</p> <h3 id="セキュリティ">セキュリティ</h3> <p>やはり会社としてはこれは特に重要視する項目です。</p> <p><strong>セキュリティ</strong> ということを考えるのであれば、 まずは、扱う情報にどのようなものがあるのか。ということを整理しましょう。 その整理された情報区分に応じてセキュリティ対策を適用していくことが必要です。</p> <p>もし扱う情報が整理できていない場合は、まずは整理をするところから始めることをオススメします。</p> <p>ただ単に</p> <ul> <li>「外部への持ち出しは危ない」</li> <li>「責任は誰が取るんだ」</li> </ul> <p>みたいなことを言っていたら、この競争社会で生き残れないです。 そうしないと利便性が下がり、従業員のパフォーマンスだって上がりません。 もちろん情報の種類によっては持ち出せないケースも出てきます。</p> <p>と、セキュリティだけで1記事以上書けてしまいそうですので、踏み込んだ話はまた別の機会に。</p> <p>前置きが長くなってしまいましたが、端末選定においては以下のようなこと考慮してみると良いと思います。</p> <table> <thead> <tr> <th style="text-align: left">施策</th> <th style="text-align: left">主な効果</th> <th style="text-align: left">端末選定において考慮すること</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">多要素認証</td> <td style="text-align: left">パスワード認証のみより高い安全性を得る</td> <td style="text-align: left">多要素認証対応かどうか</td> </tr> <tr> <td style="text-align: left">ディスク暗号化</td> <td style="text-align: left">ブートOS変更によるデータ解読防止</td> <td style="text-align: left">SSDの選択とディスク暗号化対応かどうか</td> </tr> <tr> <td style="text-align: left">ファームウェア暗号化</td> <td style="text-align: left">起動ディスク以外の端末のみでのOSが起動</td> <td style="text-align: left">セキュリティチップ内包かどうか</td> </tr> </tbody> </table> <p>上記を全部を満たす必要はないものの、端末選定におけるセキュリティについては</p> <p><strong>本当にやりたいことがなんだったのか</strong></p> <p>ということに立ち戻って選定いくようにしましょう。</p> <h3 id="スペック">スペック</h3> <p>業務を効率化し、従業員に快適な労働環境を提供するためには、 業務内容に応じて、端末のスペックを変更していくことも必要となります。</p> <p>もちろん予算が許すなら、すべての従業員に高スペックな端末を貸与したい！</p> <h2 id="folioのwindows端末以外の端末たち">FOLIOのWindows端末以外の端末たち</h2> <p>2017年12月1日時点のデータですが、以下のラインナップを取り扱っています。</p> <h3 id="ios端末">iOS端末</h3> <table> <thead> <tr> <th style="text-align: left">機種</th> <th style="text-align: left">入手経路</th> <th style="text-align: center">台数</th> <th style="text-align: left">主な用途</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">iPhone SE</td> <td style="text-align: left">通信キャリアレンタル</td> <td style="text-align: center">7</td> <td style="text-align: left">開発、緊急連絡</td> </tr> <tr> <td style="text-align: left">iPhone 6</td> <td style="text-align: left">通信キャリアレンタル</td> <td style="text-align: center">40</td> <td style="text-align: left">緊急連絡</td> </tr> <tr> <td style="text-align: left">iPhone 6</td> <td style="text-align: left">寄付</td> <td style="text-align: center">2</td> <td style="text-align: left">開発</td> </tr> <tr> <td style="text-align: left">iPhone 7</td> <td style="text-align: left">Apple直販</td> <td style="text-align: center">1</td> <td style="text-align: left">開発</td> </tr> <tr> <td style="text-align: left">iPhone 7 Plus</td> <td style="text-align: left">Apple直販</td> <td style="text-align: center">1</td> <td style="text-align: left">開発</td> </tr> <tr> <td style="text-align: left">iPhone 8</td> <td style="text-align: left">Apple直販</td> <td style="text-align: center">1</td> <td style="text-align: left">開発</td> </tr> <tr> <td style="text-align: left">iPhone X</td> <td style="text-align: left">Apple直販</td> <td style="text-align: center">2</td> <td style="text-align: left">開発</td> </tr> <tr> <td style="text-align: left">iPad</td> <td style="text-align: left">Apple直販</td> <td style="text-align: center">1</td> <td style="text-align: left">開発</td> </tr> </tbody> </table> <p>ご覧の通り、主に開発と緊急連絡用途として使用しています。 「緊急連絡用途」と堅く言っていますが、 外出先でのチャットやメール使用、システム障害のアラート通知受領などで主に使用するということです。</p> <p>また、約10個のApp Storeのアプリケーションを使用しています。</p> <h3 id="android端末">Android端末</h3> <table> <thead> <tr> <th style="text-align: left">機種</th> <th style="text-align: left">入手経路</th> <th style="text-align: center">台数</th> <th style="text-align: left">主な用途</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">Nexus7など</td> <td style="text-align: left">購入</td> <td style="text-align: center">4</td> <td style="text-align: left">開発</td> </tr> <tr> <td style="text-align: left">SCV33など</td> <td style="text-align: left">寄付</td> <td style="text-align: center">2</td> <td style="text-align: left">開発</td> </tr> </tbody> </table> <p>ほぼ開発用途にしか使っていません。 細かい機種にあまり意味はないので、ざっくりと載せています。</p> <p>また、約5個のGoogle Playのアプリケーションを使用しています。</p> <h3 id="macos端末">macOS端末</h3> <table> <thead> <tr> <th style="text-align: left">機種</th> <th style="text-align: left">入手経路</th> <th style="text-align: center">台数</th> <th style="text-align: left">主な用途</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">MacBook Pro</td> <td style="text-align: left">Apple直販</td> <td style="text-align: center">30</td> <td style="text-align: left">開発</td> </tr> <tr> <td style="text-align: left">MacBook Air</td> <td style="text-align: left">Apple直販</td> <td style="text-align: center">4</td> <td style="text-align: left">開発</td> </tr> <tr> <td style="text-align: left">iMac</td> <td style="text-align: left">Apple直販</td> <td style="text-align: center">9</td> <td style="text-align: left">開発</td> </tr> </tbody> </table> <p>FOLIOのサービスを開発するために、主にクリエイターが使用しています。 クリエイターについては<a href="http://ihcomega.hatenadiary.com/entry/2017/12/01/092246" target="_blank" rel="noopener noreferrer">FOLIO アドベントカレンダー1日目の記事</a>を御覧ください。</p> <p>また、有償/無償含め約10個のMac App Storeのアプリケーションを使用しています。</p> <h3 id="緊急連絡用途としてios端末を選択するということ">緊急連絡用途としてiOS端末を選択するということ</h3> <p>普段、従業員に携帯してもらう会社支給の携帯端末にiOSを選択した。ということになるのですが、 これはiOSの方がAndroidより、エンタープライズにおける管理のしくみが単純に豊富であるということに尽きます。</p> <p>Androidも近年、エンタープライズにおける管理のしくみが整いつつあります。</p> <p>Android 5系から <strong>Device Owner Mode</strong> と呼ばれる、会社が所有するAndroid端末を従業員に配布し管理するしくみが搭載されました。 さらに、5系は <code class="language-plaintext highlighter-rouge">adb</code> コマンドを用いないとDevice Owner Modeにできませんでしたが、6系以降はその必要がなくなりました。 アプリケーションも、Android for Work専用の社内公開に限定したアプリケーションストアを使用できます。</p> <p>しかし、たとえばGmailを使いたいとなると、Androidのシステム的にアカウント接続をすることになってしまいます。 管理者の設定でアカウント接続を不許可として制御可能ですが、そうなると、Gmailが使えなくなってしまいます。 それではと、アカウント接続を許可してしまうと、個人で使用しているGoogleのアカウントがAndroidのシステムに接続可能となってしまい、 挙句にはそのアカウントで、通常のGoogle Playも使用できてしまいます。 公私混同を誘発しかねない中々香ばしい仕様です。</p> <p>また、Androidアプリケーションの仕様上しかたないのですが、アプリケーションによってさまざまなユーザー権限を求めてきます。 使用者の要望で入れたいアプリケーションがあったとしても、「この権限は許容できない」ということも多々あります。 せっかく便利なアプリケーションなのに会社での使用を考えると導入できなくなるケースも出てきて、使用者の利便性を損ねることにもなりかねません。</p> <p>上記のほかにも問題点はあるのですが、挙げるとキリがないのでこの辺で。</p> <p>その点、iOSは長年エンタープライズで使われてきており、 DEPやVPPなど管理のしくみやMDM用のAPIが多く用意されているため、制御が細かく設定できるなど、会社での使用におけるしくみが豊富です。 社内情報の業務効率化を考えると、2017年時点では、iOSを選択する方が適切であると判断しました。</p> <h2 id="キッティング">キッティング</h2> <p>社内情報システム業務に携わっていない方はあまり聞き馴染みのない単語かと思いますが、 要はすぐに使えるように準備する作業のことです。</p> <p><a href="/assets/posts/post/2017-12-17-1/ios_kitting.jpg" data-fancybox="images" data-caption="iOS 端末のキッティングの様子"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="iOS 端末のキッティングの様子" data-src="/assets/posts/post/2017-12-17-1/ios_kitting.jpg" class="lazyload"></a></p> <h3 id="キッティング効率化">キッティング効率化</h3> <p>キッティングは、使用者が増えてくると、すべての設定を1つずつ流し込むのがたいへんになってきます。 そのため、キッティングを効率化してくれるEMM（エンタープライズモビリティ管理）が提供されているツールを導入してみることにしました。</p> <p>EMMと大層なことを言っていますが、</p> <ul> <li>MDM（モバイルデバイス管理）</li> <li>MAM（モバイルアプリケーション管理）</li> <li>MIM（モバイル情報管理）</li> </ul> <p>の機能を包含しているツールを示しています。</p> <h4 id="emmツール">EMMツール</h4> <table> <thead> <tr> <th style="text-align: left">ツール</th> <th style="text-align: left">主な対応OS</th> <th style="text-align: left">料金</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><a href="https://support.apple.com/ja-jp/profile-manager" target="_blank" rel="noopener noreferrer">プロファイルマネージャー</a></td> <td style="text-align: left">iOS, macOS</td> <td style="text-align: left">2,400円（macOS Server代）</td> </tr> <tr> <td style="text-align: left"><a href="https://cloud.google.com/identity/mdm/?hl=ja" target="_blank" rel="noopener noreferrer">GSuite モバイル管理</a></td> <td style="text-align: left">iOS, Android, Windows Phone</td> <td style="text-align: left">無料（別途GSuite導入）</td> </tr> <tr> <td style="text-align: left"><a href="https://www.mobileiron.com/ja" target="_blank" rel="noopener noreferrer">MobileIron</a></td> <td style="text-align: left">iOS, Android, Windows Phone</td> <td style="text-align: left">450円〜 device/month</td> </tr> <tr> <td style="text-align: left"><a href="https://www.i3-systems.com/" target="_blank" rel="noopener noreferrer">CLOMO</a></td> <td style="text-align: left">iOS, macOS, Android, Windows, Kindle</td> <td style="text-align: left"><a href="https://www.i3-systems.com/price" target="_blank" rel="noopener noreferrer">サイト参照</a></td> </tr> <tr> <td style="text-align: left"><a href="https://www.jamf.com/ja/products/jamf-pro/" target="_blank" rel="noopener noreferrer">Jamf Pro</a></td> <td style="text-align: left">iOS, macOS</td> <td style="text-align: left">有償</td> </tr> <tr> <td style="text-align: left"><a href="https://meraki.cisco.com/products/systems-manager/" target="_blank" rel="noopener noreferrer">Cisco Meraki Systems Manager</a></td> <td style="text-align: left">iOS, macOS, Android, Windows Phone, Chrome OS, Windows</td> <td style="text-align: left">100台まで無料</td> </tr> </tbody> </table> <p>これら以外にもさまざまなツールがあります。</p> <p>ツールは規模やフェーズなどに伴い、柔軟にリプレイスすることによりコストを抑えることが可能となります。 ソフトウェア開発でも共通ですが、移行コストが明らかになっていない段階で、 将来のことを考えすぎてしまうとそれ自体が負債になる可能性があります。 移行コストはかかるものである、と割り切ってしまうのもツール選定には必要だと思います。</p> <p>いろいろと挙げましたが、FOLIOではiOSとAndroidで1つのツール、macOSでプロファイルマネージャー（順次新たなツールに移行予定）を選択しました。</p> <h4 id="iosとandroidで1つのツールを採用した理由">iOSとAndroidで1つのツールを採用した理由</h4> <p>iOSとmacOSに対しては機能が特化している。というツールが多いですが、 QAチームや開発者が端末を誰が持っているのかを把握したい需要にも答えたかったため、 iOSとAndroidのモバイル端末という単位で一元管理ができるツールを選択しました。</p> <p>選定理由を細かく挙げると数が多くなってしましますが、</p> <ul> <li>管理コンソールのSAML対応</li> <li>所有者一覧のActive Directory連携</li> <li>root化チェックなど機能の豊富さ</li> <li>細かいセグメント分け</li> <li>iOSとAndroidのモバイル端末の一元管理 <ul> <li>DEPやVPPとの連携（詳しくは<a href="/post/2017-12-03-1">Apple製品を会社として導入するための準備をした話</a>を参照）</li> <li>Android for Workとの連携</li> </ul> </li> <li>監査ログの出力</li> <li>端末リストのステータス付きCSV出力</li> </ul> <p>あたりが決め手となりました。</p> <h4 id="macosでプロファイルマネージャーを採用した理由">macOSでプロファイルマネージャーを採用した理由</h4> <p>導入したフェーズでは外部のツールを使うにはオーバースペックであり、 自社でmacOS Serverを持っていたため、ローカルネットワーク内に設置して、こちらで運用することにしました。</p> <p>しかし、最近macOS端末の使用者が増えてきて、手動で行っていた設定の流し込みにミスが発生したり、個別対応が多くなったりしてきました。 そのため、外部のツールへの移行を進めてさらなる効率化を図って行くことにしました。</p> <p>なぜ最初から外部のツールを導入しなかったかとよいますと、 予算はもちろんでしたが、最大の理由は最小ロットが50や100ライセンスなど、我々にとっては大型であったためです。</p> <h2 id="運用におけるtips">運用におけるTips</h2> <p>ここでは実際運用の際に気を付けた方が良い点などを紹介していきます。 読者のお役にたてば幸いです。</p> <h3 id="共通編">共通編</h3> <h4 id="ショルダーハック対策">ショルダーハック対策</h4> <p>いわゆる覗き見対策というやつです。</p> <p>外部へ持ち出しとなると、関係者でない人にも端末が覗き見られる機会が増えます。特に、モバイル端末においてはその確率が非常に高くなります。</p> <p>対応方法としては、プライバシーフィルタなどのディスプレイの視野角を狭めて、 正面からのみディスプレイを正常に見られるように、対策としてシートなどを貼るべきです。 何も行わないより、何かしら対応策を講じることは必要であると思っています。</p> <p>もちろん、物理的な対策にも限界があるため、 秘密情報や機密情報を扱う状況下では他者に見られることのないように、 「人混みの中では使用しない」など従業員への教育も必要となります。</p> <h3 id="ios編">iOS編</h3> <h4 id="正規販売店経由以外の端末も管理端末にしたい">正規販売店経由以外の端末も管理端末にしたい</h4> <p>中古の端末を使用するなど、Apple直営販売店以外から仕入れた端末も使いたくなることもあるかもしれません。 DEPを使用する場合、Apple直営販売店からでないと、各種MDMサーバーに端末を割り当てることができません。</p> <p>実は、EMMサービスによっては <a href="https://support.apple.com/ja-jp/apple-configurator" target="_blank" rel="noopener noreferrer">Apple Configurator</a> を介してマニュアルでMDMサーバーに端末を割り当てることができます。 また、iOS 11の端末の場合、Apple Configurator 2.5以降を使用すると、Apple直営販売店から購入していない端末もDEP登録できるようになりました。</p> <p>中古の端末を使用する際は、必ず端末を工場出荷状態に戻してから使用するようにしましょう。</p> <p>参考までにCisco Meraki Systems Managerでどのように設定するかのドキュメントのリンクを貼っておきます。</p> <p><a href="https://documentation.meraki.com/SM/Device_Enrollment/Enrolling_and_Supervising_iOS_Devices_using_Apple_Configurator_2.5_or_Later" target="_blank" rel="noopener noreferrer">Enrolling and Supervising iOS Devices using Apple Configurator 2.5 or Later</a></p> <h4 id="デバイス名を固定したい">デバイス名を固定したい</h4> <p>デバイス名は社内のネットワークでの使用状況を確認する際にアクセス元を調べたり、デザリングで一意特定したりする際など、管理において有用です。 iOSではプロファイルの設定で、デバイス名を変更を制御できます。 デバイス名の変更を従業員に許可させてしまうと、一意特定が難しくなるため、デバイス名の変更を不可にすると誤って変更されずに済みます。</p> <p>しかし、EMMツールにはデバイス名を変更する機能がないものが多く（私の観測範囲では見たことがない）、 かといって、プロファイルが撒かれてしまうとデバイス名が変更できません。</p> <p>ほかによい方法があればよいのですが、今のところわからずですので、少しテクニックを使用します。</p> <ol> <li>iOS端末を立ち上げ、<code class="language-plaintext highlighter-rouge">こんにちは画面</code> を表示させます</li> <li>iOS端末をMacに接続させます</li> <li>Mac側でApple Configuratorを立ち上げます</li> <li>接続したiOSが一覧に出てくるので、右クリック &gt; 変更 &gt; デバイス名。.. を選択します</li> <li>デバイス名変更画面が出てくるので、あらかじめ決めているデバイス名に変更します</li> </ol> <p><a href="/assets/posts/post/2017-12-17-1/apple_configurator_device_name_change.png" data-fancybox="images" data-caption="Apple Configurator における iOS 端末のデバイス名変更"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Apple Configurator における iOS 端末のデバイス名変更" data-src="/assets/posts/post/2017-12-17-1/apple_configurator_device_name_change.png" class="lazyload"></a></p> <p>端末によってはアクティベーションが終わっていないとデバイス名が変更できないことがあるので、 その場合はアクティベーションを済まして、その後いったんiOS端末側の作業をやめて<strong>2</strong>からの作業で解決します。</p> <h3 id="android編">Android編</h3> <h4 id="工場出荷状態にしたい">工場出荷状態にしたい</h4> <p>Android端末は開発用途において、さまざまなバージョンそろえるために中古で端末を取得するケースも多いと思います。</p> <ol> <li>電源を切ります</li> <li> <strong>電源 + 音量下</strong> または <strong>電源 + 音量下 + 音量上</strong> または <strong>電源 + 音量上 + ホームボタン</strong> を押してリカバリーモードにします <ul> <li>機種によってはリカバリーモードにする方法が異なる可能性があるのでご注意ください</li> <li>リカバリーモードはドロイド君が出て来る画面です</li> </ul> </li> <li> <strong>音量</strong>（選択）ボタンを押して選択カーソルを動かし、 <strong>Wipe data / factory reset</strong> の項目で <strong>電源</strong>（決定）ボタンを押します</li> </ol> <h4 id="中古で手に入れる際の落とし穴">中古で手に入れる際の落とし穴</h4> <p>中古で手に入れた場合、Android 5系から導入された <strong>Device Protection</strong> 機能をONにされていた場合、 上記の工場出荷状態にする方法を使用してもアクティベーション途中で、以前ログインしていたGoogleアカウントを求められます。</p> <p>そのため、中古で手に入れる際は上記の点念頭に置きつつ仕入れを行いましょう。</p> <h3 id="macos編">macOS編</h3> <h4 id="ダウングレードしたい">ダウングレードしたい</h4> <p>ファイルフォーマットがAPFSになったりと新機能が豊富なmacOS High Sierra。 まだ世に出てまだ半年経っていませんが、数々のクリティカルな脆弱性が検出されており頭が痛い状態です。 また、使用しているツールなどの動作保証も追いつかず、社内情報システム業務従事者にとっては気苦労が絶えません。</p> <p>既存の端末に関しては、まずは様子見でも良いと思いますが、 一番問題なのは新しいOSが出てから一定期間経つと、macOS端末が最新のOSがプリインストールされてやってくるということです。</p> <p>その際に、一時的に過去のOSにダウングレードする方法を紹介します。</p> <p>この方法は <strong>Apple社は推奨しておらず、あくまで自己責任となります</strong> のでご注意ください。</p> <ol> <li> <a href="https://support.apple.com/ja-jp/HT201372" target="_blank" rel="noopener noreferrer">macOS の起動可能なインストーラを作成する方法</a>に記載されている方法を使用してインストールイメージを作成してください。</li> <li>ダウングレードしたい端末にインストールイメージを接続します。</li> <li>Optionキーを押しながら電源を入れてください。</li> <li>ブート先が選べるので、作成したインストールイメージを選択します。</li> <li>「ディスクユーティリティ」を使用してHDD/SSDをフォーマットし直します。</li> <li>フォーマットが終わったら1つ前の画面に戻ります。</li> <li>「macOSをインストール」を選択してインストールを開始します。</li> </ol> <p>これでOSをダウングレードできます。</p> <h4 id="masコマンドの悪夢">masコマンドの悪夢</h4> <p><a href="https://github.com/mas-cli/mas" target="_blank" rel="noopener noreferrer"><code class="language-plaintext highlighter-rouge">mas</code></a> コマンドはMac App StoreのアプリケーションをインストールするためのSwift製のコマンドラインインタフェースです。</p> <p>macOSにおいてMac App Storeのアプリケーションの使用をプロファイルで制限できます。 制限を適用すると、Mac App Storeのアプリケーションからアプリケーションをインストールできなくなります。 制限を適用してもソフトウェアアップデートは実行可能です。</p> <p>しかし、<code class="language-plaintext highlighter-rouge">mas</code> コマンドを使用すると、Mac App Storeのアプリケーションをダウンロードできてしまいます。 また、Mac App Storeからインストールされるアプリケーションは <code class="language-plaintext highlighter-rouge">/Applications</code> に入ります。 この領域はデフォルトだと管理者権限を持っている人しかアクセスできない領域ですが、 <code class="language-plaintext highlighter-rouge">mas</code> コマンドを使用すると <strong>管理者権限がないユーザーが実行しても</strong> アプリケーションをインストールできてしまいます。 Apple社に問い合わせ、電話で回答をいただきましたが、解決の目処は立っていないとの旨を伝えられました。</p> <p>ざっと調べたところ、Mac App Store関係のCocoa APIを直接たたくと、プロファイルの制限を無視して処理が行われてしまうことにあるようです。 私の見解ですが、これは普通に脆弱性なんじゃないかなと思っています。 みなさんで声を大にしてもられえれば緊急度が上がると思いますので、ぜひよろしくおねがいします。</p> <h5 id="対応策">対応策</h5> <p>じゃあどうしようか、ということになりますが、</p> <ul> <li> <code class="language-plaintext highlighter-rouge">Terminal.app</code> などshellへのアクセスを禁止する <ul> <li>エンジニアが何もできなくなるので厳しい気はしている</li> </ul> </li> <li> <code class="language-plaintext highlighter-rouge">mas</code> コマンドを使用禁止にする <ul> <li>制限する方法はないので運用でカバーする</li> <li>エージェントを動かしてmasコマンドを制御する（リネームされたら意味ないので微妙）</li> </ul> </li> <li>Mac App Store自体のアプリケーションを使用禁止にする（未調査） <ul> <li>もしかしたらこれでもCocoa API自体はたたけてしまうかもしれない</li> </ul> </li> </ul> <p>などが考えられます。</p> <p>正直、効力の高い具体的対策が思いついていないので、どなたか良い手法やアイデアお持ちでしたらご教示ください。</p> <h2 id="まとめ">まとめ</h2> <p>端末管理は、情報端末は会社にとって大切な資産と情報を守り、かつ、社内情報システム業務を効率的に回していくために必要であるという話をしました。</p> <p>また、端末選定においていくつか考慮点を挙げていきました。 従業員が高いパフォーマンスが発揮できるように、そして本当にやりたいことが何だったのかを見失わないように端末を選定すると良いという話をしました。</p> <p>さらに、FOLIOで取り扱っているiOS、Android、macOS端末をどうやって管理しているか、その際に何個かの運用Tipsを紹介しました。 macOSに関して情報が少なくなってしまい、期待していた方申し訳ありません。 新しい環境に移行後、詳しいお話ができればと思っています。</p> <p>端末管理は会社のフェーズや状況に応じて日々変化していくので、私が書いたことも答えではありません。 皆さんの会社に合わせた方法を選択、実行していきましょう。</p> <h2 id="宣伝">宣伝</h2> <p><a href="https://corp.folio-sec.com" target="_blank" rel="noopener noreferrer">FOLIO</a> では引き続き、社員に快適に働いてもらう環境を構築する社内情報システム担当を募集しています。</p> <iframe frameborder="0" height="305px" name="wantedly_project_widget_171731" scrolling="no" src="https://www.wantedly.com/projects/171731/widget" style="border: none; max-width: 100%; min-width: 240px; width: 540px;"></iframe> <p>また、こんな社内情報システムっぽい記事を書いていますが、私のメインはバックエンドエンジニアだったりします。 エンジニア絶賛募集中ですので、興味がある方はぜひお声がけください！</p> <iframe frameborder="0" height="305px" name="wantedly_project_widget_171731" scrolling="no" src="https://www.wantedly.com/projects/151883/widget" style="border: none; max-width: 100%; min-width: 240px; width: 540px;"></iframe> </article> <section class="share"> <a href="//twitter.com/share?text=FOLIO%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8BiOS%2FAndroid%2FmacOS%E3%81%AE%E7%AB%AF%E6%9C%AB%E7%AE%A1%E7%90%86%E3%81%A8%E3%81%9D%E3%81%AE%E9%81%8B%E7%94%A8%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6&amp;url=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2017-12-17-1%3Futm_source%3Dtwitter%26utm_medium%3Dsocial&amp;via=kenchan0130" onclick="window.open(this.href, 'twitter-share', 'width=550,height=255,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-twitter fa-lg"></i> </a> <a href="//www.facebook.com/sharer.php?t=FOLIO%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8BiOS%2FAndroid%2FmacOS%E3%81%AE%E7%AB%AF%E6%9C%AB%E7%AE%A1%E7%90%86%E3%81%A8%E3%81%9D%E3%81%AE%E9%81%8B%E7%94%A8%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6&amp;u=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2017-12-17-1%3Futm_source%3Dfacebook%26utm_medium%3Dsocial" onclick="window.open(this.href, 'facebook-share', 'width=550,height=255,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-facebook fa-lg"></i> </a> <a href="//b.hatena.ne.jp/entry/panel/?btitle=FOLIO%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8BiOS%2FAndroid%2FmacOS%E3%81%AE%E7%AB%AF%E6%9C%AB%E7%AE%A1%E7%90%86%E3%81%A8%E3%81%9D%E3%81%AE%E9%81%8B%E7%94%A8%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6&amp;url=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2017-12-17-1" onclick="window.open(this.href, 'hatena-share', 'width=550,height=600,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-hatena fa-lg"></i> </a> </section> <section class="post-donation"> <div class="post-donation-panel"> <p class="post-donation-description"> 参考になった・面白かったと感じていただけましたら、サポートいただけると励みになります。 </p> <a class="post-donation-button" href="https://www.buymeacoffee.com/kenchan0130" onclick="gtag('event', 'click-buymeacoffee', { event_category: 'www.buymeacoffee.com/kenchan0130', event_label: '/post/2017-12-17-1' });" target="_blank" rel="noopener noreferrer"> <p class="post-donation-button-body"> <img class="icon lazyload" alt="buymeacoffee" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg"> <span class="label">サポートする</span> </p> </a> </div> </section> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2444060431947599" data-ad-slot="7319689305" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> <section class="sub-contents related-posts"> <div class="sub-contents-wrapper"> <div class="sub-contents-title">あわせて読みたい</div> <div class="sub-contents-main"> <li> <a href="/post/2017-12-03-1">Apple製品を会社として導入するための準備をした話</a> <span class="post-date">- December 3, 2017</span> </li> <li> <a href="/post/2019-12-16-1">Apple Business Manager/Apple School Managerの設定</a> <span class="post-date">- December 16, 2019</span> </li> <li> <a href="/post/2019-07-16-1">組織におけるApple IDの運用</a> <span class="post-date">- July 16, 2019</span> </li> <li> <a href="/post/2025-06-19-1">WWDC 2025で発表されたエンタープライズ関連の新機能</a> <span class="post-date">- June 19, 2025</span> </li> <li> <a href="/post/2024-06-19-1">WWDC 2024で発表されたエンタープライズ関連の新機能</a> <span class="post-date">- June 19, 2024</span> </li> </div> </div> </section> <section class="sub-contents tags"> <div class="sub-contents-wrapper"> <div class="sub-contents-title">Tags</div> <div class="sub-contents-main"> <a href="/tag/apple">Apple</a> <a href="/tag/macos">macOS</a> <a href="/tag/ios">iOS</a> <a href="/tag/dep">DEP</a> <a href="/tag/vpp">VPP</a> <a href="/tag/android">Android</a> <a href="/tag/emm">EMM</a> </div> </div> </section> </div> </div> </div> <footer class="site-footer"> <div class="wrapper"> <h3 class="footer-heading">kenchan0130 blog</h3> <div class="site-navigation"> <p><strong>Site Map</strong></p> <ul class="pages"> <li class="nav-link"> <a href="/archives">Archives</a> </li> <li class="nav-link"> <a href="/privacy">Privacy Policy</a> </li> <li class="nav-link"> <a href="/profile">Profile</a> </li> <li class="nav-link"> <a href="/profile/resume">Resume</a> </li> </ul> </div> <div class="site-contact"> <p><strong>Contact</strong></p> <ul class="social-media-list"> <li> <a href="https://twitter.com/kenchan0130" title="Follow me on Twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> <span class="username">kenchan0130</span> </a> </li> <li> <a href="https://github.com/kenchan0130" title="Fork me on GitHub" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> <span class="username">kenchan0130</span> </a> </li> </ul> </div> <div class="site-signature"> <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p> <p class="text">ソフトウェアエンジニア。記録に残したいことを雑に備忘するブログ。 投稿内容は個人の見解であり所属する組織の公式見解ではありません。 </p> </div> </div> <div class="licence">このサイトのコンテンツは<a href="https://creativecommons.org/licenses/by/4.0/deed.ja" target="_blank" rel="noopener noreferrer">Creative Commons Attribution 4.0 International (CC-BY-4.0) License</a>の下でライセンスされています。</div> <div class="copyright">Copyright © 2017-2025 Tadayuki Onishi All Rights Reserved.</div> </footer> <script src="/assets/bundle/app.55445db2fff8ddfed8c5.js" async></script> <script async src="//www.googletagmanager.com/gtag/js?id=G-B7RX34Q5PL"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B7RX34Q5PL");</script> <script async src="//www.googletagmanager.com/gtag/js?id=UA-79827366-2"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-79827366-2");</script> </body> </html>