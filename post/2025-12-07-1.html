<!DOCTYPE html> <html> <!-- This page is used centrarium Jekyll theme Copyright (c) 2015 Ben Centra Released under the MIT license https://github.com/bencentra/centrarium/blob/daa0d16ba9156ad43f9980e2075023a0d48859a5/LICENSE.md --> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"> <title>Microsoft Entra Global Secure Accessを試してみたので仕組みをまとめてみる</title> <meta name="description" content="Microsoft Entra Global Secure Accessは、インターネットへのアクセスを保護するMicrosoft Entra Internet Accessと、社内リソースへの安全なアクセスを提供するMicrosoft Entra Private Accessを統合したSSEソリューションです。 この記事では、Microsoft Entra Internet AccessとMicrosoft Entra Private Accessがどのような仕組みで動作し、何ができるのかについて紹介します。"> <meta name="author" content="Tadayuki Onishi"> <meta name="copyright" content="© Tadayuki Onishi 2025"> <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon"> <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon"> <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png"> <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png"> <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png"> <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png"> <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png"> <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png"> <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png"> <link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/android-icon-192x192.png"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png"> <link rel="manifest" href="/assets/icons/manifest.json"> <meta name="msapplication-TileColor" content="#ffffff"> <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png"> <meta name="theme-color" content="#ffffff"> <meta property="fb:app_id" content="376889769419405"> <meta property="og:description" content="Microsoft Entra Global Secure Accessは、インターネットへのアクセスを保護するMicrosoft Entra Internet Accessと、社内リソースへの安全なアクセスを提供するMicrosoft Entra Private Accessを統合したSSEソリューションです。 この記事では、Microsoft Entra Internet AccessとMicrosoft Entra Private Accessがどのような仕組みで動作し、何ができるのかについて紹介します。"> <meta property="og:url" content="https://kenchan0130.github.io/post/2025-12-07-1"> <meta property="og:site_name" content="kenchan0130 blog"> <meta property="og:title" content="Microsoft Entra Global Secure Accessを試してみたので仕組みをまとめてみる"> <meta property="og:type" content="website"> <meta property="og:author" content="Tadayuki Onishi"> <meta property="og:image" content="https://kenchan0130.github.io/assets/logo.png"> <meta property="og:image:width" content="760"> <meta property="og:image:height" content="760"> <meta property="og:image:type" content="image/png"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Microsoft Entra Global Secure Accessを試してみたので仕組みをまとめてみる"> <meta name="twitter:site" content="@kenchan0130"> <meta name="twitter:description" content="Microsoft Entra Global Secure Accessは、インターネットへのアクセスを保護するMicrosoft Entra Internet Accessと、社内リソースへの安全なアクセスを提供するMicrosoft Entra Private Accessを統合したSSEソリューションです。 この記事では、Microsoft Entra Internet AccessとMicrosoft Entra Private Accessがどのような仕組みで動作し、何ができるのかについて紹介します。"> <meta name="twitter:image" content="https://kenchan0130.github.io/assets/logo.png"> <meta name="twitter:url" content="https://kenchan0130.github.io/post/2025-12-07-1"> <link rel="preload" as="style" href="/assets/bundle/app.55445db2fff8ddfed8c5.css" onload="this.onload=null;this.rel='stylesheet'"> <noscript> <link rel="stylesheet" href="/assets/bundle/app.55445db2fff8ddfed8c5.css"> </noscript> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="https://kenchan0130.github.io/post/2025-12-07-1"> <link rel="alternate" type="application/atom+xml" title="kenchan0130 blog" href="https://kenchan0130.github.io/feed.xml"> <meta name="google-site-verification" content="ZxlKORgZZwZ4TTmaQJFFEXLF3jmd6P_NVU9TEVW1bSg"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> </head> <body> <header class="navigation" role="banner"> <div class="navigation-wrapper"> <a href="/" class="logo"> <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kenchan0130 blog" data-src="/assets/logo.png" class="lazyload"> </a> <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu"> <i class="fas fa-bars"></i> </a> <nav role="navigation"> <ul id="js-navigation-menu" class="navigation-menu"> <li class="nav-search-box"> <div class="search-input-container"> <input type="search" class="search-input" id="js-search-input" placeholder="Search" autocomplete="off" onfocus="gtag('event', 'search', { event_category: 'www.algolia.com/apps/DEFR5IK9E2/explorer/browse/kenchan0130_blog', event_label: '/post/2025-12-07-1' });"> <i class="fa fa-search search-input-icon"></i> <template id="suggestion-template"> <a href="" onclick="gtag('event', 'click', { event_category: 'www.algolia.com/apps/DEFR5IK9E2/explorer/browse/kenchan0130_blog', event_label: this.href });"> <p class="suggestion-title js-suggestion-title"></p> <p class="suggestion-content js-suggestion-content"></p> </a> </template> </div> </li> <li class="nav-link"> <a href="/archives">Archives</a> </li> <li class="nav-link"> <a href="/profile">Profile</a> </li> </ul> </nav> </div> </header> <div class="page-content"> <div class="post"> <div class="post-header-container "> <div class="scrim "> <header class="post-header"> <h1 class="title">Microsoft Entra Global Secure Accessを試してみたので仕組みをまとめてみる</h1> </header> </div> </div> <div class="wrapper"> <span class="page-divider"> <span class="one"></span> <span class="two"></span> </span> <section class="post-meta"> <div class="post-date">2025-12-07</div> <div class="post-categories"> <i class="fas fa-fw fa-book"></i> <a href="/category/system-administration">system-administration </a> </div> </section> <article class="post-content"> <p>SaaSの利用やリモートワークが当たり前になった今、従来のVPNや境界型ファイアウォールだけでは、セキュリティを担保することが難しくなっています。 そこで注目されているのが、ユーザーのIDを起点にアクセス制御を行うSecurity Service Edge（SSE）というアプローチです。</p> <p>Microsoft Entra Global Secure Accessは、インターネットへのアクセスを保護するMicrosoft Entra Internet Accessと、社内リソースへの安全なアクセスを提供するMicrosoft Entra Private Accessを統合したSSEソリューションです。</p> <p>この記事では、Microsoft Entra Internet AccessとMicrosoft Entra Private Accessがどのようなしくみで動作し、何ができるのかについて紹介します。</p> <p>設定や注意点、ハマりどころなどについては別の記事で紹介します。</p> <ul id="markdown-toc"> <li><a href="#global-secure-access%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88" id="markdown-toc-global-secure-accessクライアント">Global Secure Accessクライアント</a></li> <li> <a href="#microsoft-entra-internet-access" id="markdown-toc-microsoft-entra-internet-access">Microsoft Entra Internet Access</a> <ul> <li><a href="#web%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E3%83%AA%E3%83%B3%E3%82%B0%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC" id="markdown-toc-webコンテンツフィルタリングポリシー">Webコンテンツフィルタリングポリシー</a></li> <li><a href="#%E3%83%88%E3%83%BC%E3%82%AF%E3%83%B3%E3%81%A8%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%83%97%E3%83%AD%E3%83%95%E3%82%A1%E3%82%A4%E3%83%ABid" id="markdown-toc-トークンとセキュリティプロファイルid">トークンとセキュリティプロファイルID</a></li> <li><a href="#%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E4%BD%93%E9%A8%93" id="markdown-toc-ユーザー体験">ユーザー体験</a></li> <li><a href="#microsoft-365%E3%83%88%E3%83%A9%E3%83%95%E3%82%A3%E3%83%83%E3%82%AF%E7%94%A8%E3%81%AEmicrosoft%E3%83%97%E3%83%AD%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB" id="markdown-toc-microsoft-365トラフィック用のmicrosoftプロファイル">Microsoft 365トラフィック用のMicrosoftプロファイル</a></li> </ul> </li> <li> <a href="#microsoft-entra-private-access" id="markdown-toc-microsoft-entra-private-access">Microsoft Entra Private Access</a> <ul> <li><a href="#%E5%BE%93%E6%9D%A5%E3%81%AEvpn%E3%81%AE%E8%AA%B2%E9%A1%8C" id="markdown-toc-従来のvpnの課題">従来のVPNの課題</a></li> <li><a href="#%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%81%AE%E6%A6%82%E8%A6%81" id="markdown-toc-アーキテクチャの概要">アーキテクチャの概要</a></li> <li><a href="#%E3%82%B3%E3%83%8D%E3%82%AF%E3%82%BF%E3%81%AE%E5%BD%B9%E5%89%B2" id="markdown-toc-コネクタの役割">コネクタの役割</a></li> <li><a href="#tcp%E3%81%A8udp%E3%81%AE%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88" id="markdown-toc-tcpとudpのサポート">TCPとUDPのサポート</a></li> <li><a href="#microsoft-entra-private-access%E7%94%A8%E3%81%AE%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E3%83%97%E3%83%AA%E3%83%B3%E3%82%B7%E3%83%91%E3%83%AB%E3%81%AE%E5%AE%9A%E7%BE%A9" id="markdown-toc-microsoft-entra-private-access用のサービスプリンシパルの定義">Microsoft Entra Private Access用のサービスプリンシパルの定義</a></li> <li><a href="#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%BB%E3%82%B0%E3%83%A1%E3%83%B3%E3%83%88" id="markdown-toc-アプリケーションセグメント">アプリケーションセグメント</a></li> <li><a href="#%E5%AE%9B%E5%85%88%E3%81%94%E3%81%A8%E3%81%AE%E6%9D%A1%E4%BB%B6%E4%BB%98%E3%81%8D%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%83%9D%E3%83%AA%E3%82%B7%E3%83%BC%E3%81%AE%E9%81%A9%E7%94%A8" id="markdown-toc-宛先ごとの条件付きアクセスポリシーの適用">宛先ごとの条件付きアクセスポリシーの適用</a></li> </ul> </li> <li><a href="#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB" id="markdown-toc-終わりに">終わりに</a></li> </ul> <h2 id="global-secure-accessクライアント">Global Secure Accessクライアント</h2> <p>これから説明する、Microsoft Entra Internet AccessおよびMicrosoft Entra Private Accessを利用するには、クライアントデバイスにGlobal Secure Accessクライアントソフトウェアをインストールする必要があります。</p> <p>執筆時点ではWindows、macOS、Androidがサポートされており、iOSがパブリックプレビュー中です。</p> <p>Global Secure Accessクライアントは、プラットフォームごとに異なる技術を使用してトラフィックをインターセプトします。</p> <table> <thead> <tr> <th>プラットフォーム</th> <th>実装方式</th> </tr> </thead> <tbody> <tr> <td>Windows</td> <td>ネットワークフィルタドライバ</td> </tr> <tr> <td>macOS</td> <td>TransparentProxy VPNタイプ</td> </tr> <tr> <td>iOS</td> <td>Microsoft Defender for Endpointアプリケーション内でローカルVPNとして動作</td> </tr> <tr> <td>Android</td> <td>Microsoft Defender for Endpointアプリケーション内でローカルVPNとして動作</td> </tr> </tbody> </table> <p>インターセプトしたトラフィックは、Microsoftが提供するSecure Service Edgeのサーバーに転送されます。 OSレベルで動作するため、後述の例外を除きあらゆるアプリケーションからのトラフィックが保護対象となります。</p> <p>クライアントはエンドユーザーのIDを用いてEntra IDで認証します。認証方式はプラットフォームによって異なります。</p> <table> <thead> <tr> <th>プラットフォーム</th> <th>認証方式</th> </tr> </thead> <tbody> <tr> <td>Windows</td> <td>Entra JoinまたはHybrid Entra Joinの認証情報を使用</td> </tr> <tr> <td>macOS</td> <td>Microsoft Enterprise SSOプラグインを介して認証</td> </tr> <tr> <td>iOS</td> <td>クライアント起動時に対話的に認証、またはMicrosoft Enterprise SSOプラグインを介して認証</td> </tr> <tr> <td>Android</td> <td>クライアント起動時に対話的に認証</td> </tr> </tbody> </table> <h2 id="microsoft-entra-internet-access">Microsoft Entra Internet Access</h2> <p>Microsoft Entra Internet Accessは、Secure Web Gateway（SWG）として機能し、ユーザーがインターネット上の悪意のあるサイトにアクセスすることを防ぎます。</p> <p><a href="/assets/posts/post/2025-12-07-1/internet_access_architecture.png" data-fancybox="images" data-caption="Microsoft Entra Internet Accessのアーキテクチャ"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Microsoft Entra Internet Accessのアーキテクチャ" data-src="/assets/posts/post/2025-12-07-1/internet_access_architecture.png" class="lazyload"></a></p> <p>具体的には、以下のアクセスフィルタリングによって実現されます。</p> <ul> <li>Microsoft Internet Accessマネージドなカテゴリ</li> <li>独自に定義するFQDN</li> </ul> <h3 id="webコンテンツフィルタリングポリシー">Webコンテンツフィルタリングポリシー</h3> <p>Webコンテンツフィルタリングポリシーは、カテゴリやFQDN（完全修飾ドメイン名）の論理的なグループです。各ポリシーには「許可（Allow）」または「ブロック（Block）」のいずれかのアクションを設定します。</p> <ul> <li> <strong>Webカテゴリ</strong> <ul> <li>ソーシャルネットワーキング、ギャンブル、ゲーム、暴力など、約76種類のカテゴリから選択</li> </ul> </li> <li> <strong>FQDN</strong> <ul> <li>特定のドメイン名を指定します。ワイルドカード（<code class="language-plaintext highlighter-rouge">*.example.com</code>など）も使用可能</li> </ul> </li> </ul> <p>たとえば、「Social」というポリシーを作成し、ソーシャルネットワーキングカテゴリをブロックしつつ、業務で必要なFacebookだけは別のポリシーで許可する、といった設定が可能です。</p> <h3 id="トークンとセキュリティプロファイルid">トークンとセキュリティプロファイルID</h3> <p>GSAクライアントがEntra IDから取得するアクセストークンには、適用されるセキュリティプロファイルのIDがクレームとして含まれます。</p> <p>クライアントからSecure Service Edgeにトラフィックが送信される際、このトークンも一緒に送られます。Secure Service Edgeは、トークン内のセキュリティプロファイルIDを参照し、該当するルールにもとづいてトラフィックを許可またはブロックします。</p> <p>アクセストークンの有効期間は1時間のため、条件付きアクセスポリシーを変更したり、別のセキュリティプロファイルに切り替えたりした場合、反映には最大1時間かかる可能性があります。 一方、セキュリティプロファイル内のWebコンテンツフィルタリングポリシーの変更は、グローバルに伝播するだけですので、通常は数分で反映されます。</p> <h3 id="ユーザー体験">ユーザー体験</h3> <p>ブロックされたサイトにアクセスしようとした場合、HTTPサイト（暗号化されていない通信）の場合は、より明確な「Denied」メッセージが表示されます。</p> <p>HTTPSサイトの場合、「このサイトに到達できません」というブラウザのエラーメッセージが表示され、Internet Accessによってブロックされたのかどうかがわかりません。 TLSインスペクションを導入することで、HTTPサイトと同じように明確なメッセージを表示できる機能がパブリックプレビューになりました。</p> <h3 id="microsoft-365トラフィック用のmicrosoftプロファイル">Microsoft 365トラフィック用のMicrosoftプロファイル</h3> <p>これまで説明したInternet Accessプロファイルは、一般的なインターネットトラフィックを対象としています。 Microsoft 365（Exchange Online、SharePoint Online、Microsoft Teamsなど）へのトラフィックについては、専用の「Microsoftトラフィック転送プロファイル」が用意されています。</p> <p>これによりパフォーマンスの向上やルールが簡素化するそうです。</p> <h4 id="microsoftプロファイルにおける接続失敗時の動作">Microsoftプロファイルにおける接続失敗時の動作</h4> <p>GSAクライアントがサービスへの接続に失敗した場合（認証エラーや条件付きアクセスの失敗など）、トラフィックは自動的にバイパスされ、クライアントのローカルネットワーク経由で直接送信されます。</p> <p>この動作によるセキュリティリスクを軽減するために、準拠ネットワークチェック（Compliant Network Check）を使用した条件付きアクセスポリシーを作成し、クライアントがサービスに接続できない場合はトラフィックをブロックする設定が推奨されます。</p> <p>詳細は<a href="https://learn.microsoft.com/en-us/entra/global-secure-access/how-to-manage-microsoft-profile" target="_blank" rel="noopener noreferrer">How to enable and manage the Microsoft traffic forwarding profile</a>を参照してください。</p> <h2 id="microsoft-entra-private-access">Microsoft Entra Private Access</h2> <p>Microsoft Entra Private Accessは、Zero Trust Network Access（ZTNA）を実現するソリューションです。</p> <p>従来のVPNとは異なり、ネットワーク全体へのアクセスを許可するのではなく、特定のアプリケーションやリソースへのアクセスをIDを起点に細かく制御します。 SSEの文脈で、ゼロトラストの「常に検証する」「最小権限」をネットワークレイヤに適用する役割を担います。</p> <h3 id="従来のvpnの課題">従来のVPNの課題</h3> <p>従来のVPNは、以下のような課題を抱えています。</p> <ul> <li> <strong>広範なネットワークアクセス</strong> <ul> <li>VPNトンネルが確立されると、ユーザーはネットワーク内のあらゆるリソースにアクセスできる</li> </ul> </li> <li> <strong>侵害の拡大リスク</strong> <ul> <li>1台のデバイスが侵害されると、VPN経由でネットワーク全体に攻撃が拡大する</li> </ul> </li> <li> <strong>ゼロトラスト原則との不整合</strong> <ul> <li>「常に検証する」「最小権限」「侵害を想定する」というゼロトラストの原則に反する</li> </ul> </li> </ul> <p>Microsoft Entra Private Accessは、これらの課題を解決するために設計されています。</p> <h3 id="アーキテクチャの概要">アーキテクチャの概要</h3> <p>主な構成要素は、クライアント、Secure Service Edge、コネクタ、プライベートリソースの4つです。</p> <p><a href="/assets/posts/post/2025-12-07-1/private_access_architecture.png" data-fancybox="images" data-caption="Microsoft Entra Private Accessのアーキテクチャ"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Microsoft Entra Private Accessのアーキテクチャ" data-src="/assets/posts/post/2025-12-07-1/private_access_architecture.png" class="lazyload"></a></p> <h4 id="アーキテクチャのポイント">アーキテクチャのポイント</h4> <ul> <li> <strong>クライアントはプライベートネットワークに直接接続しない</strong> <ul> <li>Global Secure AccessクライアントはSecure Service Edgeにのみ接続し、プライベートネットワークへの直接的なトンネルは張らない</li> </ul> </li> <li> <strong>コネクタはアウトバウンド接続のみ</strong> <ul> <li>プライベートネットワーク内のコネクタがSecure Service Edgeに向けてアウトバウンド接続を確立するため、インバウンドのファイアウォールルールは不要</li> </ul> </li> <li> <strong>条件付きアクセスを評価</strong> <ul> <li>アプリケーションへのアクセスごとに、ユーザーリスク、デバイス状態、場所などにもとづいた条件付きアクセスポリシーが評価可能</li> </ul> </li> </ul> <h3 id="コネクタの役割">コネクタの役割</h3> <p>コネクタは、プライベートネットワーク内でWindows Serverにインストールされるエージェントです。</p> <h4 id="コネクタの特徴">コネクタの特徴</h4> <ul> <li> <strong>アウトバウンド接続のみ</strong> <ul> <li>コネクタはSecure Service Edgeへのアウトバウンド接続を確立し、DMZやインバウンドポートの開放は不要</li> </ul> </li> <li> <strong>高可用性</strong> <ul> <li>複数のコネクタをデプロイすることで、冗長性と負荷分散を実現</li> </ul> </li> </ul> <h3 id="tcpとudpのサポート">TCPとUDPのサポート</h3> <p>Microsoft Entra Private Accessの大きな特徴は、TCP/UDPの任意のポートを指定できる点です。</p> <p>そのため、Webアプリケーションだけではなく、RDPやSSHなど非Webアプリケーションもサポートしています。</p> <h3 id="microsoft-entra-private-access用のサービスプリンシパルの定義">Microsoft Entra Private Access用のサービスプリンシパルの定義</h3> <p>Microsoft Entra Private Accessでは、アクセスを許可するリソースを専用のサービスプリンシパルとして定義します。 これにより、VPNのような広範なネットワークアクセスではなく、人やグループなどを指定して必要最小限のリソースへのアクセスのみを許可できます。</p> <h3 id="アプリケーションセグメント">アプリケーションセグメント</h3> <p>Microsoft Entra Private Access用のサービスプリンシパルには、アプリケーションセグメントを設定できます。</p> <p>以下の属性を1つの項目として、アプリケーションセグメントに設定できます。</p> <ul> <li> <strong>宛先</strong>: 単一のIPアドレス、CIDR、開始・終了アドレス、FQDN</li> <li> <strong>プロトコル</strong>: TCP、UDP</li> <li> <strong>ポート</strong>: ポート番号</li> </ul> <h4 id="セグメントの重複禁止">セグメントの重複禁止</h4> <p>従来のIPルーティングでは、より具体的なルート（例: /26）がより広いルート（例: /24）よりも優先されますが、Microsoft Entra Private Accessではこのような動作はサポートされていません。</p> <p><strong>異なるサービスプリンシパル間でアプリケーションセグメントが重複しないように</strong>する必要があります。</p> <p>一応確認したところ、登録時にエラーで弾かれるようにはなっていました。</p> <h3 id="宛先ごとの条件付きアクセスポリシーの適用">宛先ごとの条件付きアクセスポリシーの適用</h3> <p>サービスプリンシパルですので、ほかのSaaSアプリケーションと同様に、条件付きアクセスポリシーを適用できます。</p> <p>これにより、重要なリソースへのアクセスにはそもそも強力な認証を要求し、リスクが検出された場合はアクセスをブロックするといった、きめ細かな制御が可能になります。</p> <h2 id="終わりに">終わりに</h2> <p>Microsoft Entra Global Secure Accessは、従来のVPNの課題を解決しつつ、ゼロトラストの原則にもとづいたアクセス制御を実現できるソリューションです。 Internet AccessによるSWG機能とPrivate AccessによるZTNA機能を組み合わせることで、インターネットアクセスと社内リソースへのアクセスの両方を統一的に管理できます。</p> <p>設定や運用にはいくつかの注意点やハマりどころがありましたので、次回の記事では、実際の設定手順や注意点、トラブルシューティングのポイントについて紹介する予定です。</p> </article> <section class="share"> <a href="//twitter.com/share?text=Microsoft+Entra+Global+Secure+Access%E3%82%92%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F%E3%81%AE%E3%81%A7%E4%BB%95%E7%B5%84%E3%81%BF%E3%82%92%E3%81%BE%E3%81%A8%E3%82%81%E3%81%A6%E3%81%BF%E3%82%8B&amp;url=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2025-12-07-1%3Futm_source%3Dtwitter%26utm_medium%3Dsocial&amp;via=kenchan0130" onclick="window.open(this.href, 'twitter-share', 'width=550,height=255,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-twitter fa-lg"></i> </a> <a href="//www.facebook.com/sharer.php?t=Microsoft+Entra+Global+Secure+Access%E3%82%92%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F%E3%81%AE%E3%81%A7%E4%BB%95%E7%B5%84%E3%81%BF%E3%82%92%E3%81%BE%E3%81%A8%E3%82%81%E3%81%A6%E3%81%BF%E3%82%8B&amp;u=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2025-12-07-1%3Futm_source%3Dfacebook%26utm_medium%3Dsocial" onclick="window.open(this.href, 'facebook-share', 'width=550,height=255,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-facebook fa-lg"></i> </a> <a href="//b.hatena.ne.jp/entry/panel/?btitle=Microsoft+Entra+Global+Secure+Access%E3%82%92%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F%E3%81%AE%E3%81%A7%E4%BB%95%E7%B5%84%E3%81%BF%E3%82%92%E3%81%BE%E3%81%A8%E3%82%81%E3%81%A6%E3%81%BF%E3%82%8B&amp;url=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2025-12-07-1" onclick="window.open(this.href, 'hatena-share', 'width=550,height=600,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-hatena fa-lg"></i> </a> </section> <section class="post-donation"> <div class="post-donation-panel"> <p class="post-donation-description"> 参考になった・面白かったと感じていただけましたら、サポートいただけると励みになります。 </p> <a class="post-donation-button" href="https://www.buymeacoffee.com/kenchan0130" onclick="gtag('event', 'click-buymeacoffee', { event_category: 'www.buymeacoffee.com/kenchan0130', event_label: '/post/2025-12-07-1' });" target="_blank" rel="noopener noreferrer"> <p class="post-donation-button-body"> <img class="icon lazyload" alt="buymeacoffee" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg"> <span class="label">サポートする</span> </p> </a> </div> </section> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2444060431947599" data-ad-slot="7319689305" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> <section class="sub-contents tags"> <div class="sub-contents-wrapper"> <div class="sub-contents-title">Tags</div> <div class="sub-contents-main"> <a href="/tag/microsoft-entra">Microsoft Entra</a> <a href="/tag/global-secure-access">Global Secure Access</a> <a href="/tag/microsoft-internet-access">Microsoft Internet Access</a> <a href="/tag/microsoft-private-access">Microsoft Private Access</a> <a href="/tag/swg">SWG</a> <a href="/tag/microsoft-entra-suite">Microsoft Entra Suite</a> </div> </div> </section> </div> </div> </div> <footer class="site-footer"> <div class="wrapper"> <h3 class="footer-heading">kenchan0130 blog</h3> <div class="site-navigation"> <p><strong>Site Map</strong></p> <ul class="pages"> <li class="nav-link"> <a href="/archives">Archives</a> </li> <li class="nav-link"> <a href="/privacy">Privacy Policy</a> </li> <li class="nav-link"> <a href="/profile">Profile</a> </li> <li class="nav-link"> <a href="/profile/resume">Resume</a> </li> </ul> </div> <div class="site-contact"> <p><strong>Contact</strong></p> <ul class="social-media-list"> <li> <a href="https://twitter.com/kenchan0130" title="Follow me on Twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> <span class="username">kenchan0130</span> </a> </li> <li> <a href="https://github.com/kenchan0130" title="Fork me on GitHub" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> <span class="username">kenchan0130</span> </a> </li> </ul> </div> <div class="site-signature"> <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p> <p class="text">ソフトウェアエンジニア。記録に残したいことを雑に備忘するブログ。 投稿内容は個人の見解であり所属する組織の公式見解ではありません。 </p> </div> </div> <div class="licence">このサイトのコンテンツは<a href="https://creativecommons.org/licenses/by/4.0/deed.ja" target="_blank" rel="noopener noreferrer">Creative Commons Attribution 4.0 International (CC-BY-4.0) License</a>の下でライセンスされています。</div> <div class="copyright">Copyright © 2017-2025 Tadayuki Onishi All Rights Reserved.</div> </footer> <script src="/assets/bundle/app.55445db2fff8ddfed8c5.js" async></script> <script async src="//www.googletagmanager.com/gtag/js?id=G-B7RX34Q5PL"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B7RX34Q5PL");</script> <script async src="//www.googletagmanager.com/gtag/js?id=UA-79827366-2"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-79827366-2");</script> </body> </html>