<!DOCTYPE html> <html> <!-- This page is used centrarium Jekyll theme Copyright (c) 2015 Ben Centra Released under the MIT license https://github.com/bencentra/centrarium/blob/daa0d16ba9156ad43f9980e2075023a0d48859a5/LICENSE.md --> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"> <title>Jamf ProとInstallomatorで常に最新のアプリケーションを配布する</title> <meta name="description" content="macOSのデバイスを管理していると、サードパーティ製のアプリケーションなどを最新バージョンに常に保ちたいということがあります。 今回は、Installomatorというスクリプトを使用して、常に最新バージョンのアプリケーションをJamf Proで配布する方法を紹介します。"> <meta name="author" content="Tadayuki Onishi"> <meta name="copyright" content="© Tadayuki Onishi 2025"> <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon"> <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon"> <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png"> <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png"> <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png"> <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png"> <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png"> <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png"> <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png"> <link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/android-icon-192x192.png"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png"> <link rel="manifest" href="/assets/icons/manifest.json"> <meta name="msapplication-TileColor" content="#ffffff"> <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png"> <meta name="theme-color" content="#ffffff"> <meta property="fb:app_id" content="376889769419405"> <meta property="og:description" content="macOSのデバイスを管理していると、サードパーティ製のアプリケーションなどを最新バージョンに常に保ちたいということがあります。 今回は、Installomatorというスクリプトを使用して、常に最新バージョンのアプリケーションをJamf Proで配布する方法を紹介します。"> <meta property="og:url" content="https://kenchan0130.github.io/post/2020-10-12-1"> <meta property="og:site_name" content="kenchan0130 blog"> <meta property="og:title" content="Jamf ProとInstallomatorで常に最新のアプリケーションを配布する"> <meta property="og:type" content="website"> <meta property="og:author" content="Tadayuki Onishi"> <meta property="og:image" content="https://kenchan0130.github.io/assets/logo.png"> <meta property="og:image:width" content="760"> <meta property="og:image:height" content="760"> <meta property="og:image:type" content="image/png"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Jamf ProとInstallomatorで常に最新のアプリケーションを配布する"> <meta name="twitter:site" content="@kenchan0130"> <meta name="twitter:description" content="macOSのデバイスを管理していると、サードパーティ製のアプリケーションなどを最新バージョンに常に保ちたいということがあります。 今回は、Installomatorというスクリプトを使用して、常に最新バージョンのアプリケーションをJamf Proで配布する方法を紹介します。"> <meta name="twitter:image" content="https://kenchan0130.github.io/assets/logo.png"> <meta name="twitter:url" content="https://kenchan0130.github.io/post/2020-10-12-1"> <link rel="preload" as="style" href="/assets/bundle/app.55445db2fff8ddfed8c5.css" onload="this.onload=null;this.rel='stylesheet'"> <noscript> <link rel="stylesheet" href="/assets/bundle/app.55445db2fff8ddfed8c5.css"> </noscript> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="https://kenchan0130.github.io/post/2020-10-12-1"> <link rel="alternate" type="application/atom+xml" title="kenchan0130 blog" href="https://kenchan0130.github.io/feed.xml"> <meta name="google-site-verification" content="ZxlKORgZZwZ4TTmaQJFFEXLF3jmd6P_NVU9TEVW1bSg"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> </head> <body> <header class="navigation" role="banner"> <div class="navigation-wrapper"> <a href="/" class="logo"> <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kenchan0130 blog" data-src="/assets/logo.png" class="lazyload"> </a> <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu"> <i class="fas fa-bars"></i> </a> <nav role="navigation"> <ul id="js-navigation-menu" class="navigation-menu"> <li class="nav-search-box"> <div class="search-input-container"> <input type="search" class="search-input" id="js-search-input" placeholder="Search" autocomplete="off" onfocus="gtag('event', 'search', { event_category: 'www.algolia.com/apps/DEFR5IK9E2/explorer/browse/kenchan0130_blog', event_label: '/post/2020-10-12-1' });"> <i class="fa fa-search search-input-icon"></i> <template id="suggestion-template"> <a href="" onclick="gtag('event', 'click', { event_category: 'www.algolia.com/apps/DEFR5IK9E2/explorer/browse/kenchan0130_blog', event_label: this.href });"> <p class="suggestion-title js-suggestion-title"></p> <p class="suggestion-content js-suggestion-content"></p> </a> </template> </div> </li> <li class="nav-link"> <a href="/archives">Archives</a> </li> <li class="nav-link"> <a href="/profile">Profile</a> </li> </ul> </nav> </div> </header> <div class="page-content"> <div class="post"> <div class="post-header-container "> <div class="scrim "> <header class="post-header"> <h1 class="title">Jamf ProとInstallomatorで常に最新のアプリケーションを配布する</h1> </header> </div> </div> <div class="wrapper"> <span class="page-divider"> <span class="one"></span> <span class="two"></span> </span> <section class="post-meta"> <div class="post-date">2020-10-12</div> <div class="post-categories"> <i class="fas fa-fw fa-book"></i> <a href="/category/system-administration">system-administration </a> </div> </section> <article class="post-content"> <p>管理下にあるmacOSのデバイスにおいて、</p> <ul> <li>最新バーションのアプリケーションをインストールしたい</li> <li>アプリケーションを常に最新バージョンのアップデートしたい</li> </ul> <p>という要件を実現したいことがあります。</p> <p>Volume Purchase（旧VPP）を使用することで、App Storeのアプリケーションであればある程度実現できますが、サードパーティ製のアプリケーションでこれを実現するのが難しい状態でした。</p> <p>今回は、<a href="https://www.jamf.com/ja/products/jamf-pro" target="_blank" rel="noopener noreferrer">Jamf Pro</a>と<a href="https://github.com/scriptingosx/Installomator" target="_blank" rel="noopener noreferrer">Installomator</a>を使用して、常に最新バージョンのアプリケーションを配布する方法を紹介します。</p> <ul id="markdown-toc"> <li><a href="#%E6%9C%80%E6%96%B0%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AE%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E9%85%8D%E5%B8%83%E3%81%99%E3%82%8B%E9%9A%9B%E3%81%AE%E5%95%8F%E9%A1%8C%E7%82%B9" id="markdown-toc-最新バージョンのアプリケーションを配布する際の問題点">最新バージョンのアプリケーションを配布する際の問題点</a></li> <li><a href="#installomator%E3%81%A8%E3%81%AF" id="markdown-toc-installomatorとは">Installomatorとは</a></li> <li><a href="#installomator%E3%81%AE%E3%81%97%E3%81%8F%E3%81%BF" id="markdown-toc-installomatorのしくみ">Installomatorのしくみ</a></li> <li> <a href="#installomator%E3%82%92jamf-pro%E3%81%AB%E7%B5%84%E3%81%BF%E8%BE%BC%E3%82%80" id="markdown-toc-installomatorをjamf-proに組み込む">InstallomatorをJamf Proに組み込む</a> <ul> <li><a href="#installomator%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%AE%E5%8F%96%E5%BE%97" id="markdown-toc-installomatorスクリプトの取得">Installomatorスクリプトの取得</a></li> <li><a href="#jamf-pro%E3%81%ABinstallomator%E3%82%92%E8%A8%AD%E5%AE%9A" id="markdown-toc-jamf-proにinstallomatorを設定">Jamf ProにInstallomatorを設定</a></li> </ul> </li> <li> <a href="#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E6%A9%9F%E8%83%BD" id="markdown-toc-その他の機能">その他の機能</a> <ul> <li><a href="#%E9%80%9A%E7%9F%A5%E6%A9%9F%E8%83%BD" id="markdown-toc-通知機能">通知機能</a></li> <li><a href="#%E7%89%B9%E5%AE%9A%E3%81%AE%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%E3%81%8C%E8%B5%B7%E5%8B%95%E4%B8%AD%E3%81%AE%E5%A0%B4%E5%90%88%E3%81%AE%E5%87%A6%E7%90%86%E6%96%B9%E6%B3%95%E3%81%AE%E5%A4%89%E6%9B%B4" id="markdown-toc-特定のプロセスが起動中の場合の処理方法の変更">特定のプロセスが起動中の場合の処理方法の変更</a></li> </ul> </li> <li><a href="#%E6%B3%A8%E6%84%8F%E7%82%B9" id="markdown-toc-注意点">注意点</a></li> <li><a href="#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB" id="markdown-toc-終わりに">終わりに</a></li> </ul> <h2 id="最新バージョンのアプリケーションを配布する際の問題点">最新バージョンのアプリケーションを配布する際の問題点</h2> <p>今まで最新バージョンのアプリケーションを配布するためには、アプリケーションのpkg（pkg化されていないアプリケーションはpkg化）ファイル、またはJamf Composerで作成したdmgファイルをJamf Proにアップロードして、アップロードしたファイルをアサインした専用のポリシーを作成していました。</p> <p>しかし、これでは対象のアプリケーションが更新された場合、管理者は新たなバーションのアプリケーションのpkgファイルをJamf Proにアップデートして配布するという運用が必要でした。 この運用はアプリケーションが少ないと回りますが、アプリケーションの数が増えてくると段々と運用を圧迫し最新バージョンがインストールされず、不具合や最悪の場合、脆弱性を突かれる可能性があります。</p> <p>アプリケーションがApp Storeにも存在する場合は、Volume Purchaseに寄せることで、最新バージョンのインストールおよび自動アップデートが可能です。<sup id="fnref:jamf-pro-10-25-0"><a href="#fn:jamf-pro-10-25-0" class="footnote" rel="footnote" role="doc-noteref">1</a></sup> しかし、Volume Purchaseのインストール、およびアップデート<sup id="fnref:vp-update"><a href="#fn:vp-update" class="footnote" rel="footnote" role="doc-noteref">2</a></sup>の信頼性が低い状態が続いているという問題があります。<sup id="fnref:vp-issue"><a href="#fn:vp-issue" class="footnote" rel="footnote" role="doc-noteref">3</a></sup></p> <h2 id="installomatorとは">Installomatorとは</h2> <p><a href="https://github.com/scriptingosx/Installomator" target="_blank" rel="noopener noreferrer">Installomator</a>は、<a href="https://twitter.com/scriptingosx" target="_blank" rel="noopener noreferrer">Briegel</a>氏が開発しているzsh製のスクリプトです。macOS Catalina（10.15）からデフォルトシェルがbashからzshに変更となったため、zshで書かれています。</p> <p>インストール/アップデートしたいアプリケーション名を指定すると、常に最新バージョンのアプリケーションがインストールされます。これにより最新版のアプリケーションを配布するためにpkgなどのファイルのアップロード都度行うなどの運用の手間を軽減できます。</p> <p>このスクリプトは公証の確認を行っているため、macOSは<strong>10.14.4以降</strong>である必要があります。</p> <h2 id="installomatorのしくみ">Installomatorのしくみ</h2> <p>ざっくりとInstallomatorのしくみを解説すると、以下のような処理が行われます。</p> <ol> <li>インターネット上にホスティングされている最新版のアプリケーションのURLを特定</li> <li>アプリケーションやインストーラをダウンロード</li> <li>ダウンロードしてきたアプリケーションやインストーラの署名および公証の確認</li> <li>ダウンロードしてきたアプリケーションやインストーラを解凍・展開</li> <li>インストールの実行</li> <li>必要があればインストールが終わった旨の通知</li> </ol> <p>インターネット上にホスティングされているアプリケーションやインストーラは偽物など、安全ではない可能性があります。 Jamf Proのエージェントなど、管理者特権で実行する場合は特に注意が必要です。 この問題に対処するために、署名および公証を確認しています。</p> <h2 id="installomatorをjamf-proに組み込む">InstallomatorをJamf Proに組み込む</h2> <h3 id="installomatorスクリプトの取得">Installomatorスクリプトの取得</h3> <p><a href="https://github.com/scriptingosx/Installomator" target="_blank" rel="noopener noreferrer">InstallomatorのGitHubリポジトリ</a>の<code class="language-plaintext highlighter-rouge">Installomator.sh</code>が対象のスクリプトです。</p> <p>デフォルトが<code class="language-plaintext highlighter-rouge">dev</code>ブランチ、つまり開発中のブランチであるため、安定版が必要な場合は<a href="https://github.com/scriptingosx/Installomator/releases" target="_blank" rel="noopener noreferrer">リリース一覧</a>より、任意のリリースバーションのソースコードから<code class="language-plaintext highlighter-rouge">Installomator.sh</code>を取得してください。</p> <h3 id="jamf-proにinstallomatorを設定">Jamf ProにInstallomatorを設定</h3> <p>これらの設定はJamf Proにログインして行ってください。</p> <h4 id="スクリプトの登録">スクリプトの登録</h4> <ol> <li> <p>[設定] &gt; [コンピュータの管理] &gt; [スクリプト]から新規スクリプトを作成に進みます。</p> <ul> <li>カテゴリの設定は必須ではありませんが、このスクリプトを分類するのに使用できます。以下の画像では例として「Applications」を指定しています。</li> </ul> <p><a href="/assets/posts/post/2020-10-12-1/create_script_general_installomator.png" data-fancybox="images" data-caption="Installomatorの新規スクリプト作成の一般セクションの設定"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Installomatorの新規スクリプト作成の一般セクションの設定" data-src="/assets/posts/post/2020-10-12-1/create_script_general_installomator.png" class="lazyload"></a></p> </li> <li> <p>次に、ScriptセクションにGitHubから取得してきた<code class="language-plaintext highlighter-rouge">Installomator.sh</code>を貼り付けます。</p> <p><a href="/assets/posts/post/2020-10-12-1/create_script_script_installomator.png" data-fancybox="images" data-caption="Installomatorの新規スクリプト作成のスクリプトセクションの設定"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Installomatorの新規スクリプト作成のスクリプトセクションの設定" data-src="/assets/posts/post/2020-10-12-1/create_script_script_installomator.png" class="lazyload"></a></p> </li> <li> <p><code class="language-plaintext highlighter-rouge">DEBUG=1</code>を<code class="language-plaintext highlighter-rouge">DEBUG=0</code>に変更します。</p> <ul> <li> <code class="language-plaintext highlighter-rouge">DEBUG</code>を<code class="language-plaintext highlighter-rouge">1</code>のままにすると、一見動いているように見受けられますが、実際はアプリケーションがインストールされませんのでご注意ください。</li> </ul> <p><a href="/assets/posts/post/2020-10-12-1/create_script_script_installomator_edit_debug.png" data-fancybox="images" data-caption="InstallomatorのDEBUG設定の変更"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="InstallomatorのDEBUG設定の変更" data-src="/assets/posts/post/2020-10-12-1/create_script_script_installomator_edit_debug.png" class="lazyload"></a></p> </li> <li> <p>最後に、Optionsセクションの<code class="language-plaintext highlighter-rouge">パラメータ4</code>にアプリケーション（のラベル）名を指定することがわかるような名前を入力してください。</p> <ul> <li>これは設定しなくても動作しますが、ポリシー側で使用する際にわかりやすくなるので設定しています。以下の画像では例として<code class="language-plaintext highlighter-rouge">application labal</code>という名前を設定しています。</li> </ul> <p><a href="/assets/posts/post/2020-10-12-1/create_script_options_installomator.png" data-fancybox="images" data-caption="Installomatorの新規スクリプト作成のオプションセクションの設定"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Installomatorの新規スクリプト作成のオプションセクションの設定" data-src="/assets/posts/post/2020-10-12-1/create_script_options_installomator.png" class="lazyload"></a></p> </li> <li> <p>[保存]してスクリプトの登録は完了です。</p> </li> </ol> <h4 id="ポリシーの設定">ポリシーの設定</h4> <p>今回は例として、zoomのアプリケーションをSelf Serviceからインストールできるようにするポリシーを作成してみます。</p> <ol> <li> <p>[コンピュータ] &gt; [ポリシー]から新規ポリシーを作成に進みます。</p> <p><a href="/assets/posts/post/2020-10-12-1/create_new_policy.png" data-fancybox="images" data-caption="ポリシーの作成"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ポリシーの作成" data-src="/assets/posts/post/2020-10-12-1/create_new_policy.png" class="lazyload"></a></p> </li> <li> <p>表示名に<strong>Zoom</strong>、Self Serviceから常に実行できるように実行頻度を<strong>Ongoing</strong>に指定します。</p> <p><a href="/assets/posts/post/2020-10-12-1/create_zoom_policy_options_general_using_installomator.png" data-fancybox="images" data-caption="Installomatorを使用したZoomポリシーのオプションセクションのGeneral設定"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Installomatorを使用したZoomポリシーのオプションセクションのGeneral設定" data-src="/assets/posts/post/2020-10-12-1/create_zoom_policy_options_general_using_installomator.png" class="lazyload"></a></p> </li> <li> <p>スクリプトの項目を選択し、登録したInstallomatorのスクリプトを追加します。</p> <p><a href="/assets/posts/post/2020-10-12-1/create_zoom_policy_options_select_script_using_installomator.png" data-fancybox="images" data-caption="Installomatorを使用したZoomポリシーのオプションセクションのスクリプト設定"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Installomatorを使用したZoomポリシーのオプションセクションのスクリプト設定" data-src="/assets/posts/post/2020-10-12-1/create_zoom_policy_options_select_script_using_installomator.png" class="lazyload"></a></p> </li> <li> <p>スクリプト登録で設定したパラメータ名（パラメータ4）に<strong>zoom</strong>を設定します。</p> <p><a href="/assets/posts/post/2020-10-12-1/create_zoom_policy_options_set_script_parameters_using_installomator.png" data-fancybox="images" data-caption="Installomatorを使用したZoomポリシーのオプションセクションのスクリプトのパラメータ設定"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Installomatorを使用したZoomポリシーのオプションセクションのスクリプトのパラメータ設定" data-src="/assets/posts/post/2020-10-12-1/create_zoom_policy_options_set_script_parameters_using_installomator.png" class="lazyload"></a></p> </li> <li> <p>今回は例として全コンピュータに配布することにしてみます。Scopeセクションからターゲットコンピュータを<strong>All Computers</strong>に設定します。</p> </li> <li> <p>最後に、Self Serviceで使用できるようにするため、Self Servieセクションでポリシーを使用可能にします。</p> <ul> <li>アイコンを設定しておくとエンドユーザーに認知してもらい易くなるので設定しておくと良いでしょう。</li> </ul> <p><a href="/assets/posts/post/2020-10-12-1/create_zoom_policy_self_service_using_installomator.png" data-fancybox="images" data-caption="Installomatorを使用したZoomポリシーのSelf Serviceセクションの設定"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Installomatorを使用したZoomポリシーのSelf Serviceセクションの設定" data-src="/assets/posts/post/2020-10-12-1/create_zoom_policy_self_service_using_installomator.png" class="lazyload"></a></p> </li> <li> <p>[保存]してポリシーの登録は完了です。</p> </li> </ol> <h2 id="その他の機能">その他の機能</h2> <h3 id="通知機能">通知機能</h3> <p>InstallomatorにはJamf Proのエージェントと一緒にインストールされているManagement Actionを使用して、通知センターにインストールの完了を通知するための機能が存在しています。</p> <p>デフォルトで通知するようになっており、通知をOFFにできます。 もし、通知をOFFにしたい場合は、スクリプト内の<code class="language-plaintext highlighter-rouge">NOTIFY</code>変数に<code class="language-plaintext highlighter-rouge">silent</code>を設定してください。</p> <p><a href="/assets/posts/post/2020-10-12-1/installomator_notify_variable.png" data-fancybox="images" data-caption="InstallomatorのNOTIFY変数の場所"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="InstallomatorのNOTIFY変数の場所" data-src="/assets/posts/post/2020-10-12-1/installomator_notify_variable.png" class="lazyload"></a></p> <h3 id="特定のプロセスが起動中の場合の処理方法の変更">特定のプロセスが起動中の場合の処理方法の変更</h3> <p>Installomatorのソースコードを見ると、いくつかのアプリケーションに<code class="language-plaintext highlighter-rouge">blockingProcesses</code>が定義されています。 ここにプロセス名が定義されている場合、インストールの挙動をいくつか選択できます。</p> <table> <thead> <tr> <th>オプション</th> <th>挙動</th> </tr> </thead> <tbody> <tr> <td>ignore</td> <td> <code class="language-plaintext highlighter-rouge">blockingProcesses</code>に定義されているプロセスが見つかっても、インストールを実行する</td> </tr> <tr> <td>silent_fail</td> <td> <code class="language-plaintext highlighter-rouge">blockingProcesses</code>に定義されているプロセスが見つかった場合、スクリプトが異常終了する</td> </tr> <tr> <td>prompt_user</td> <td> <code class="language-plaintext highlighter-rouge">blockingProcesses</code>に定義されているプロセスが見つかった場合、ユーザーダイアログを表示して、<code class="language-plaintext highlighter-rouge">Not Now</code>を選択した場合はスクリプトが異常終了する</td> </tr> <tr> <td>kill</td> <td> <code class="language-plaintext highlighter-rouge">blockingProcesses</code>に定義されているプロセスが見つかった場合、対象のプロセスを強制終了してインストールを実行する</td> </tr> </tbody> </table> <h2 id="注意点">注意点</h2> <p>Installomatorではいくつかのアプリケーションの最新バージョンを特定するために、GitHub APIを使用しています。 APIトークンを使用しない呼び出し方をしているため、同一IPで1時間に60リスエストの制限があります。</p> <p><a href="https://github.com/scriptingosx/Installomator/issues/23" target="_blank" rel="noopener noreferrer">GitHub APIトークンサポートのissue</a>を挙げていますので、もし必要だと感じられましたら、賛同のコメントやリアクションまたはPull Requestをお待ちしています！</p> <h2 id="終わりに">終わりに</h2> <p>今回は、Jamf ProとInstallomatorを使用して、常に最新バージョンのアプリケーションを配布する方法を紹介しました。</p> <p>Installomatorには、組織内で使用しているアプリケーションが用意されていない場合があります。 その際は、GitHubのリポジトリにPull Requsetを送るか、<a href="https://www.macadmins.org/" target="_blank" rel="noopener noreferrer">MacAdminsのSlack</a>の<strong>#installomator</strong>チャンネルにて、アプリケーションを用意してほしい旨のリクエストを出してみてください！</p> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:jamf-pro-10-25-0"> <p>Jamf Pro 10.25.0より、Self Service経由でインストールしたApp Storeのアプリケーションを自動で更新する機能が<a href="https://docs.jamf.com/10.25.0/jamf-pro/release-notes/What's_New.html" target="_blank" rel="noopener noreferrer">リリース</a>されました。 <a href="#fnref:jamf-pro-10-25-0" class="reversefootnote" role="doc-backlink">↩</a></p> </li> <li id="fn:vp-update"> <p>Volume Purchaseを介したアップデートは、対象のアプリケーションがmacOSのデバイス上で起動している場合、アップデートが行われない仕様です。 <a href="#fnref:vp-update" class="reversefootnote" role="doc-backlink">↩</a></p> </li> <li id="fn:vp-issue"> <p><a href="https://www.jamf.com/jamf-nation/discussions/31949/mac-appstore-apps-not-installing" target="_blank" rel="noopener noreferrer">Mac Appstore apps not installing | Jamf Nation</a>や<a href="https://www.jamf.com/jamf-nation/discussions/33392/mdmclienterror-72" target="_blank" rel="noopener noreferrer">MDMClientError:72 | Jamf Nation</a>、<a href="https://www.jamf.com/jamf-nation/discussions/31057/vpp-redownload-call-timed-out-mdmclienterror-72" target="_blank" rel="noopener noreferrer">vpp redownload call timed out &lt;mdmclienterror:72&gt; | Jamf Nation</a>などでいくつか報告が上がっています。Jamf Proの問題ではなくApple側の問題であることが示唆されています。 <a href="#fnref:vp-issue" class="reversefootnote" role="doc-backlink">↩</a></p> </li> </ol> </div> </article> <section class="share"> <a href="//twitter.com/share?text=Jamf+Pro%E3%81%A8Installomator%E3%81%A7%E5%B8%B8%E3%81%AB%E6%9C%80%E6%96%B0%E3%81%AE%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E9%85%8D%E5%B8%83%E3%81%99%E3%82%8B&amp;url=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2020-10-12-1%3Futm_source%3Dtwitter%26utm_medium%3Dsocial&amp;via=kenchan0130" onclick="window.open(this.href, 'twitter-share', 'width=550,height=255,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-twitter fa-lg"></i> </a> <a href="//www.facebook.com/sharer.php?t=Jamf+Pro%E3%81%A8Installomator%E3%81%A7%E5%B8%B8%E3%81%AB%E6%9C%80%E6%96%B0%E3%81%AE%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E9%85%8D%E5%B8%83%E3%81%99%E3%82%8B&amp;u=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2020-10-12-1%3Futm_source%3Dfacebook%26utm_medium%3Dsocial" onclick="window.open(this.href, 'facebook-share', 'width=550,height=255,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-facebook fa-lg"></i> </a> <a href="//b.hatena.ne.jp/entry/panel/?btitle=Jamf+Pro%E3%81%A8Installomator%E3%81%A7%E5%B8%B8%E3%81%AB%E6%9C%80%E6%96%B0%E3%81%AE%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E9%85%8D%E5%B8%83%E3%81%99%E3%82%8B&amp;url=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2020-10-12-1" onclick="window.open(this.href, 'hatena-share', 'width=550,height=600,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-hatena fa-lg"></i> </a> </section> <section class="post-donation"> <div class="post-donation-panel"> <p class="post-donation-description"> 参考になった・面白かったと感じていただけましたら、サポートいただけると励みになります。 </p> <a class="post-donation-button" href="https://www.buymeacoffee.com/kenchan0130" onclick="gtag('event', 'click-buymeacoffee', { event_category: 'www.buymeacoffee.com/kenchan0130', event_label: '/post/2020-10-12-1' });" target="_blank" rel="noopener noreferrer"> <p class="post-donation-button-body"> <img class="icon lazyload" alt="buymeacoffee" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg"> <span class="label">サポートする</span> </p> </a> </div> </section> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2444060431947599" data-ad-slot="7319689305" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> <section class="sub-contents related-posts"> <div class="sub-contents-wrapper"> <div class="sub-contents-title">あわせて読みたい</div> <div class="sub-contents-main"> <li> <a href="/post/2024-12-16-1">Installomatorでアプリケーションのインストールの進捗を表示する</a> <span class="post-date">- December 16, 2024</span> </li> <li> <a href="/post/2024-12-09-2">Installomatorでサポートされていないアプリケーションをインストールする</a> <span class="post-date">- December 9, 2024</span> </li> <li> <a href="/post/2024-12-09-1">Installomatorのパラメータの紹介</a> <span class="post-date">- December 9, 2024</span> </li> <li> <a href="/post/2020-02-13-1">Jamf Pro ServerにSSOを設定</a> <span class="post-date">- February 13, 2020</span> </li> <li> <a href="/post/2020-02-05-1">Jamf Pro Serverの初期設定</a> <span class="post-date">- February 5, 2020</span> </li> </div> </div> </section> <section class="sub-contents tags"> <div class="sub-contents-wrapper"> <div class="sub-contents-title">Tags</div> <div class="sub-contents-main"> <a href="/tag/apple">Apple</a> <a href="/tag/installomator">Installomator</a> <a href="/tag/jamf-pro">Jamf Pro</a> <a href="/tag/macos">macOS</a> <a href="/tag/mdm">MDM</a> <a href="/tag/volume-purchase">Volume Purchase</a> </div> </div> </section> </div> </div> </div> <footer class="site-footer"> <div class="wrapper"> <h3 class="footer-heading">kenchan0130 blog</h3> <div class="site-navigation"> <p><strong>Site Map</strong></p> <ul class="pages"> <li class="nav-link"> <a href="/archives">Archives</a> </li> <li class="nav-link"> <a href="/privacy">Privacy Policy</a> </li> <li class="nav-link"> <a href="/profile">Profile</a> </li> <li class="nav-link"> <a href="/profile/resume">Resume</a> </li> </ul> </div> <div class="site-contact"> <p><strong>Contact</strong></p> <ul class="social-media-list"> <li> <a href="https://twitter.com/kenchan0130" title="Follow me on Twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> <span class="username">kenchan0130</span> </a> </li> <li> <a href="https://github.com/kenchan0130" title="Fork me on GitHub" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> <span class="username">kenchan0130</span> </a> </li> </ul> </div> <div class="site-signature"> <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p> <p class="text">ソフトウェアエンジニア。記録に残したいことを雑に備忘するブログ。 投稿内容は個人の見解であり所属する組織の公式見解ではありません。 </p> </div> </div> <div class="licence">このサイトのコンテンツは<a href="https://creativecommons.org/licenses/by/4.0/deed.ja" target="_blank" rel="noopener noreferrer">Creative Commons Attribution 4.0 International (CC-BY-4.0) License</a>の下でライセンスされています。</div> <div class="copyright">Copyright © 2017-2025 Tadayuki Onishi All Rights Reserved.</div> </footer> <script src="/assets/bundle/app.55445db2fff8ddfed8c5.js" async></script> <script async src="//www.googletagmanager.com/gtag/js?id=G-B7RX34Q5PL"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B7RX34Q5PL");</script> <script async src="//www.googletagmanager.com/gtag/js?id=UA-79827366-2"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-79827366-2");</script> </body> </html>