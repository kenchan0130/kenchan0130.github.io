<!DOCTYPE html> <html> <!-- This page is used centrarium Jekyll theme Copyright (c) 2015 Ben Centra Released under the MIT license https://github.com/bencentra/centrarium/blob/daa0d16ba9156ad43f9980e2075023a0d48859a5/LICENSE.md --> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"> <title>Apple Business Manager/Apple School Managerの設定</title> <meta name="description" content="Apple Business Manager/Apple School Managerは、企業や教育現場などの組織で様々なApple社のデバイスなどの管理が可能となるWebサービスです。 今回はこのApple Business Manager/Apple School Managerの設定方法や使い方、プラクティスなどを解説していきます。"> <meta name="author" content="Tadayuki Onishi"> <meta name="copyright" content="© Tadayuki Onishi 2025"> <link rel="shortcut icon" href="/assets/icons/favicon.ico" type="image/x-icon"> <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon"> <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png"> <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png"> <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png"> <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png"> <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png"> <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png"> <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png"> <link rel="icon" type="image/png" sizes="192x192" href="/assets/icons/android-icon-192x192.png"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png"> <link rel="manifest" href="/assets/icons/manifest.json"> <meta name="msapplication-TileColor" content="#ffffff"> <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png"> <meta name="theme-color" content="#ffffff"> <meta property="fb:app_id" content="376889769419405"> <meta property="og:description" content="Apple Business Manager/Apple School Managerは、企業や教育現場などの組織で様々なApple社のデバイスなどの管理が可能となるWebサービスです。 今回はこのApple Business Manager/Apple School Managerの設定方法や使い方、プラクティスなどを解説していきます。"> <meta property="og:url" content="https://kenchan0130.github.io/post/2019-12-16-1"> <meta property="og:site_name" content="kenchan0130 blog"> <meta property="og:title" content="Apple Business Manager/Apple School Managerの設定"> <meta property="og:type" content="website"> <meta property="og:author" content="Tadayuki Onishi"> <meta property="og:image" content="https://kenchan0130.github.io/assets/posts/post/2019-12-16-1/cover.jpg"> <meta property="og:image:width" content="2000"> <meta property="og:image:height" content="1333"> <meta property="og:image:type" content="image/png"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:title" content="Apple Business Manager/Apple School Managerの設定"> <meta name="twitter:site" content="@kenchan0130"> <meta name="twitter:description" content="Apple Business Manager/Apple School Managerは、企業や教育現場などの組織で様々なApple社のデバイスなどの管理が可能となるWebサービスです。 今回はこのApple Business Manager/Apple School Managerの設定方法や使い方、プラクティスなどを解説していきます。"> <meta name="twitter:image" content="https://kenchan0130.github.io/assets/posts/post/2019-12-16-1/cover.jpg"> <meta name="twitter:url" content="https://kenchan0130.github.io/post/2019-12-16-1"> <link rel="preload" as="style" href="/assets/bundle/app.55445db2fff8ddfed8c5.css" onload="this.onload=null;this.rel='stylesheet'"> <noscript> <link rel="stylesheet" href="/assets/bundle/app.55445db2fff8ddfed8c5.css"> </noscript> <link rel="stylesheet" href="/css/main.css"> <link rel="canonical" href="https://kenchan0130.github.io/post/2019-12-16-1"> <link rel="alternate" type="application/atom+xml" title="kenchan0130 blog" href="https://kenchan0130.github.io/feed.xml"> <meta name="google-site-verification" content="ZxlKORgZZwZ4TTmaQJFFEXLF3jmd6P_NVU9TEVW1bSg"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> </head> <body> <header class="navigation" role="banner"> <div class="navigation-wrapper"> <a href="/" class="logo"> <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="kenchan0130 blog" data-src="/assets/logo.png" class="lazyload"> </a> <a href="javascript:void(0)" class="navigation-menu-button" id="js-mobile-menu"> <i class="fas fa-bars"></i> </a> <nav role="navigation"> <ul id="js-navigation-menu" class="navigation-menu"> <li class="nav-search-box"> <div class="search-input-container"> <input type="search" class="search-input" id="js-search-input" placeholder="Search" autocomplete="off" onfocus="gtag('event', 'search', { event_category: 'www.algolia.com/apps/DEFR5IK9E2/explorer/browse/kenchan0130_blog', event_label: '/post/2019-12-16-1' });"> <i class="fa fa-search search-input-icon"></i> <template id="suggestion-template"> <a href="" onclick="gtag('event', 'click', { event_category: 'www.algolia.com/apps/DEFR5IK9E2/explorer/browse/kenchan0130_blog', event_label: this.href });"> <p class="suggestion-title js-suggestion-title"></p> <p class="suggestion-content js-suggestion-content"></p> </a> </template> </div> </li> <li class="nav-link"> <a href="/archives">Archives</a> </li> <li class="nav-link"> <a href="/profile">Profile</a> </li> </ul> </nav> </div> </header> <div class="page-content"> <div class="post"> <div class="post-header-container has-cover" style="background-image: url(/assets/posts/post/2019-12-16-1/cover.jpg);"> <div class="scrim has-cover"> <header class="post-header"> <h1 class="title">Apple Business Manager/Apple School Managerの設定</h1> </header> </div> </div> <div class="wrapper"> <section class="post-meta"> <div class="post-date">2019-12-16</div> <div class="post-categories"> <i class="fas fa-fw fa-book"></i> <a href="/category/system-administration">system-administration </a> </div> </section> <article class="post-content"> <p>Apple Business Manager/Apple School Managerは、企業や教育現場などの組織でさまざまなApple社のデバイスなどの管理が可能となるWebサービスです。 今回はこのApple Business Manager/Apple School Managerの設定方法や使い方、プラクティスなどを解説していきます。</p> <p>あくまで2019年12月時点の情報であるため、時が経つと画面や仕様が変更になっている場合があります。</p> <p>この記事は<a href="https://adventar.org/calendars/3995" target="_blank" rel="noopener noreferrer">corp-engr 情シスSlack（コーポレートエンジニア x 情シス） Advent Calendar 2019</a>の12月16日の記事でもあります。</p> <ul id="markdown-toc"> <li><a href="#apple-business-managerapple-school-manager%E3%81%A8%E3%81%AF" id="markdown-toc-apple-business-managerapple-school-managerとは">Apple Business Manager/Apple School Managerとは</a></li> <li> <a href="#abmasm%E3%81%AE%E7%94%B3%E8%AB%8B" id="markdown-toc-abmasmの申請">ABM/ASMの申請</a> <ul> <li><a href="#%E4%BD%9C%E6%A5%AD1d-u-n-s%E7%95%AA%E5%8F%B7%E3%81%AE%E7%99%BA%E8%A1%8C" id="markdown-toc-作業1d-u-n-s番号の発行">作業1：D-U-N-S番号の発行</a></li> <li><a href="#%E4%BD%9C%E6%A5%AD2%E7%B5%84%E7%B9%94%E3%81%AE%E7%99%BB%E9%8C%B2%E3%81%A8%E5%AF%A9%E6%9F%BB" id="markdown-toc-作業2組織の登録と審査">作業2：組織の登録と審査</a></li> <li><a href="#%E4%BD%9C%E6%A5%AD3managed-apple-id%E3%81%AE%E7%99%BB%E9%8C%B2" id="markdown-toc-作業3managed-apple-idの登録">作業3：Managed Apple IDの登録</a></li> <li><a href="#%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3managed-apple-id%E3%81%AEfederated-authentication%E3%81%AE%E8%A8%AD%E5%AE%9A" id="markdown-toc-オプションmanaged-apple-idのfederated-authenticationの設定">オプション：Managed Apple IDのFederated Authenticationの設定</a></li> </ul> </li> <li> <a href="#%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E7%AE%A1%E7%90%86%E3%81%AE%E8%A8%AD%E5%AE%9A" id="markdown-toc-デバイス管理の設定">デバイス管理の設定</a> <ul> <li><a href="#%E4%BD%9C%E6%A5%AD1mdm%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%81%AE%E8%A8%AD%E5%AE%9A" id="markdown-toc-作業1mdmサーバーの設定">作業1：MDMサーバーの設定</a></li> <li><a href="#%E4%BD%9C%E6%A5%AD2%E3%81%8A%E5%AE%A2%E6%A7%98%E7%95%AA%E5%8F%B7%E3%81%AE%E8%A8%AD%E5%AE%9A" id="markdown-toc-作業2お客様番号の設定">作業2：お客様番号の設定</a></li> <li><a href="#%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%88%E3%81%AE%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%AE%E5%89%B2%E3%82%8A%E5%BD%93%E3%81%A6" id="markdown-toc-オプションデフォルトのデバイスの割り当て">オプション：デフォルトのデバイスの割り当て</a></li> </ul> </li> <li> <a href="#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%A9%E3%82%A4%E3%82%BB%E3%83%B3%E3%82%B9%E3%81%AE%E7%AE%A1%E7%90%86" id="markdown-toc-アプリケーションライセンスの管理">アプリケーションライセンスの管理</a> <ul> <li><a href="#%E4%BD%9C%E6%A5%AD1%E5%A0%B4%E6%89%80%E3%81%AE%E8%A8%AD%E5%AE%9A" id="markdown-toc-作業1場所の設定">作業1：場所の設定</a></li> <li><a href="#%E4%BD%9C%E6%A5%AD2%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%83%88%E3%83%BC%E3%82%AF%E3%83%B3%E3%81%AE%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89" id="markdown-toc-作業2サーバートークンのダウンロード">作業2：サーバートークンのダウンロード</a></li> <li><a href="#%E4%BD%9C%E6%A5%AD3%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E8%B3%BC%E5%85%A5%E5%89%B2%E5%BD%93" id="markdown-toc-作業3アプリケーションの購入割当">作業3：アプリケーションの購入/割当</a></li> </ul> </li> <li><a href="#%E7%95%AA%E5%A4%96%E7%B7%A8%E3%83%97%E3%83%83%E3%82%B7%E3%83%A5%E8%A8%BC%E6%98%8E%E6%9B%B8%E3%81%AE%E8%A8%AD%E5%AE%9A" id="markdown-toc-番外編プッシュ証明書の設定">番外編（プッシュ証明書の設定）</a></li> <li><a href="#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB" id="markdown-toc-終わりに">終わりに</a></li> <li><a href="#%E5%AE%A3%E4%BC%9D" id="markdown-toc-宣伝">宣伝</a></li> </ul> <h2 id="apple-business-managerapple-school-managerとは">Apple Business Manager/Apple School Managerとは</h2> <p>Apple Business Manager/Apple School ManagerはIT管理者のためのWebサービスです。 Apple社のデバイスはもちろんManaged Apple IDの管理が可能です。</p> <p>Apple Business Manager（以下「ABM」という）は企業向け、Apple School Manager（以下「ASM」という）は教育機関向けという違いであり、中身はほぼ同一の機能を有しています。</p> <p>これらはすべて<strong>無料</strong>で使用できます。 Apple社のWebサービスや製品を組織で導入する場合は、使用の有無にかかわらず登録および設定をしておくことをお勧めします。</p> <h2 id="abmasmの申請">ABM/ASMの申請</h2> <p>ABM/ASMを使用するためには以下の手順に沿って申請します。手順は以下のとおりです。</p> <ol> <li>作業1：D-U-N-S番号の発行</li> <li>作業2：組織の登録と審査</li> <li>作業3：Managed Apple IDの登録</li> <li>オプション：Managed Apple IDのFederated Authenticationの設定</li> </ol> <p>以下ABMを前提として話を進めていきます。</p> <h3 id="作業1d-u-n-s番号の発行">作業1：D-U-N-S番号の発行</h3> <p>Data Universal Numbering System、通称D-U-N-Sは、ダン＆ブラッドストリート社が管理している、企業コードの付与管理システム、並びに同システムによって各企業に付与された企業コードの名称です。</p> <p>ABM/ASMの登録にはこの番号が事前に必要となります。</p> <h4 id="d-u-n-s番号の発行方法その1">D-U-N-S番号の発行方法その1</h4> <p><a href="https://developer.apple.com/support/D-U-N-S/" target="_blank" rel="noopener noreferrer">D-U-N-S® Number - Support - Apple Developer</a>から申請リクエストを投げることができます。</p> <ol> <li> <a href="https://developer.apple.com/enroll/duns-lookup/" target="_blank" rel="noopener noreferrer">D-U-N-S Number look up tool</a>を使用して英語表記の法人名でリクエストを投げる</li> <li>リクエストを投げると、<strong>D-U-N-S Number Request/Update Confirmation</strong> のようなメールが飛んでくるので先方から連絡が来るまで待つ</li> <li> <strong>Please provide your business registration and we will send it to our investigations team to verify your information.</strong> みたいに言われるので、登記簿謄本など会社情報が記載されている公的書類を添付して送り返す <ul> <li>日本語のものでかまいません</li> </ul> </li> <li> <strong>D-U-N-S Number Request/Update Completed</strong> のようなメールが来るので、内容にD-U-N-S Numberが記載されていれば完了</li> </ol> <h4 id="d-u-n-s番号の発行方法その2">D-U-N-S番号の発行方法その2</h4> <p>東京商工リサーチ社が<a href="https://duns-number-jp.tsr-net.co.jp/search/jpn/duns_regist_explain.asp" target="_blank" rel="noopener noreferrer">D-U-N-S® Number申請サービス</a>にて有償でD-U-N-S番号の発行の代行しています。</p> <h3 id="作業2組織の登録と審査">作業2：組織の登録と審査</h3> <p><a href="https://business.apple.com/#enrollment" target="_blank" rel="noopener noreferrer">所属する組織の登録ページ</a>から登録が可能です。</p> <p>まずは以下の組織の情報を入力します。</p> <ul> <li>D-U-N-S番号を発行した際に使用した英語表記の法人名</li> <li>D-U-N-S番号</li> <li> <code class="language-plaintext highlighter-rouge">+81</code>を付与した法人の代表電話番号</li> <li>法人のWebサイト</li> </ul> <p><a href="/assets/posts/post/2019-12-16-1/register_organization_information.png" data-fancybox="images" data-caption="組織の情報"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="組織の情報" data-src="/assets/posts/post/2019-12-16-1/register_organization_information.png" class="lazyload"></a></p> <p>また、詳細には、会社の代表者名を入力しておくのが無難です。 確認用連絡先には、Apple社と契約を実施する担当者の連絡先を入力してください。</p> <p><a href="/assets/posts/post/2019-12-16-1/register_organization_details_and_contact.png" data-fancybox="images" data-caption="詳細と確認用連絡先"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="詳細と確認用連絡先" data-src="/assets/posts/post/2019-12-16-1/register_organization_details_and_contact.png" class="lazyload"></a></p> <p>登録情報の確認画面にて入力した情報に問題がなければ「送信」ボタンをクリックすることで審査が始まります。 審査には最大5営業日かかるので、余裕を持って申請してください。</p> <p>審査の過程で、登録した代表電話宛にApple社の担当者から発信番号が米国の電話による確認があるため、必ず出れるようにしておきましょう。 米国からの電話ではありますが、日本語の応対でかまいません。</p> <p>電話では、</p> <ul> <li>代表者宛に登録した役職で本人が実在するかどうかを本人と確認</li> <li>ABMの担当者が実在するかどうか本人と確認</li> <li>登録電話番号とWebサイトに間違いはないかの確認</li> <li>ABMの使用目的の確認 <ul> <li>デバイス管理が目的であることを使えればよい</li> </ul> </li> </ul> <p>上記の確認が行われます。 特に、急に代表者に取り次いでしまうと状況が把握できない可能性があるため、事前に代表者にABMの使用に関する確認の電話が来ることを伝えておくとよいでしょう。</p> <p>電話での確認が終わると、確認用連絡先のメールアドレス宛に登録が承認された旨のメールが届きます。 「管理担当者さんをクリック」というリンクを踏むとすべての審査が完了します。</p> <h3 id="作業3managed-apple-idの登録">作業3：Managed Apple IDの登録</h3> <p>ABMの審査が完了すると、ABMにログインなどに使用するManaged Apple IDの作成の画面に遷移します。 画面に表示される手順通りに進めて行けばよいです。 ここで作成するApple IDは削除できない特権アカウントなどになるわけではないため、共通アカウントとしてではなく作業者自身の個人の情報を入力すればよいです。</p> <p>Managed Apple IDには電話番号による2ステップ認証が必須であるため、SMSが受信可能な電話番号を用意しておく必要があります。</p> <p>Managed Apple IDについては<a href="/post/2019-07-16-1">組織におけるApple IDの運用</a>をご覧ください。</p> <h3 id="オプションmanaged-apple-idのfederated-authenticationの設定">オプション：Managed Apple IDのFederated Authenticationの設定</h3> <p>Managed Apple IDは個別に作成できますが、<a href="https://azure.microsoft.com/ja-jp/services/active-directory/" target="_blank" rel="noopener noreferrer">Microsoft Azure Active Directory</a>（以下「Azure AD」という）を使用している場合、Azure ADのユーザー名とパスワードをManaged Apple IDとして利用できます。 そのほかIdPも今後サポートされる可能性はありますが、2019年12月現在はAzure ADのみがサポートされています。</p> <p>使用できる条件として、Azure ADの<code class="language-plaintext highlighter-rouge">UserPrincipalName</code>とメールアドレス（およびドメイン）が一致している必要があります。</p> <ol> <li>サイドバーの下部の「設定」を選択して、「アカウント」項目を開く</li> <li>Federated Authenticationの「編集」を選択して、「ドメインを追加…」をクリック</li> <li>Azure ADのドメイン名を入力</li> <li>Azure ADのグローバル管理者、アプリケーション管理者、またはクラウドアプリケーション管理者のアカウントを入力しログイン</li> </ol> <p><a href="/assets/posts/post/2019-12-16-1/account_federated_authentication_settings.png" data-fancybox="images" data-caption="Federated Authenticationの設定"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Federated Authenticationの設定" data-src="/assets/posts/post/2019-12-16-1/account_federated_authentication_settings.png" class="lazyload"></a> <a href="/assets/posts/post/2019-12-16-1/account_federated_authentication_add_domain.png" data-fancybox="images" data-caption="ドメインの追加"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="ドメインの追加" data-src="/assets/posts/post/2019-12-16-1/account_federated_authentication_add_domain.png" class="lazyload"></a> <a href="/assets/posts/post/2019-12-16-1/account_federated_authentication.png" data-fancybox="images" data-caption="Federated Authentication設定状態"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="Federated Authentication設定状態" data-src="/assets/posts/post/2019-12-16-1/account_federated_authentication.png" class="lazyload"></a></p> <p>Federated Authenticationを設定すると、<strong>設定したドメイン名を使用したApple IDがすでに存在する場合</strong>、対象のメールアドレス宛に変更の旨の通知ができます。 すでに存在するApple IDが削除されるわけではなく、ランダムなドメイン名のメールアドレスとしてApple IDが切り替わるという挙動をするため、メールアドレスだけを回収できる機能であると考えてもらうと良いです。 既存のApple IDの情報が引き継がれるわけではないのでご注意ください。</p> <p>また、この通知を有効にするとキャンセルができない挙動のようですので、合わせてご注意ください。</p> <p>詳しくは<a href="https://support.apple.com/ja-jp/guide/apple-business-manager/apdb19317543/1/web/1" target="_blank" rel="noopener noreferrer">Apple Business ManagerのFederated Authenticationについて - Apple サポート</a>のドキュメントをご覧ください。</p> <h2 id="デバイス管理の設定">デバイス管理の設定</h2> <p>ABMは<strong>自動デバイス登録</strong>（旧称、Device Enrollment ProgramまたはDEP）の設定ができます。手順は以下のとおりです。</p> <ol> <li>作業1：MDMサーバーの設定</li> <li>作業2：お客様番号の設定</li> <li>オプション：デフォルトのデバイスの割り当て</li> </ol> <h3 id="作業1mdmサーバーの設定">作業1：MDMサーバーの設定</h3> <p>自動デバイス登録の対象の端末をどのMDMサーバーで使用するかを設定することになりますが、そのためにはMDMサーバーを事前に登録しておく必要があります。</p> <p>事前に、登録するMDMサーバーから自動デバイス登録のためのパブリックキーをダウンロードしておきます。</p> <ol> <li>サイドバーの下部の「設定」を選択して、「デバイス管理の設定」項目を開く</li> <li>「MDMサーバーの追加」をクリック</li> <li>任意のMDMサーバー名を設定</li> <li>MDMサーバー側で生成された自動デバイス登録用のパブリックキーをABMにアップロード</li> <li>「保存」をクリック</li> <li>作成したMDMサーバー項目を開く</li> <li>「トークンをダウンロード」をクリック</li> <li>ダウンロードしたトークンをMDMサーバー側にアップロード</li> </ol> <p><a href="/assets/posts/post/2019-12-16-1/mdm_server_settings.png" data-fancybox="images" data-caption="MDMサーバーの設定"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="MDMサーバーの設定" data-src="/assets/posts/post/2019-12-16-1/mdm_server_settings.png" class="lazyload"></a> <a href="/assets/posts/post/2019-12-16-1/register_mdm_server.png" data-fancybox="images" data-caption="MDMサーバーの登録"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="MDMサーバーの登録" data-src="/assets/posts/post/2019-12-16-1/register_mdm_server.png" class="lazyload"></a> <a href="/assets/posts/post/2019-12-16-1/mdm_server.png" data-fancybox="images" data-caption="MDMサーバー"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="MDMサーバー" data-src="/assets/posts/post/2019-12-16-1/mdm_server.png" class="lazyload"></a></p> <p>MDMサーバー名はどのようなMDMサーバーなのかを認識できる名前を設定することをお勧めします。</p> <p>「MDMサーバーの追加」時の<strong>MDMサーバーがデバイスを解除することを許可します。</strong>のチェック項目はご自身の組織のユースに応じて設定します。 デバイスを組織が所有していない場合、ABMの利用規約にのっとってデバイスの所有を解除する必要があります。</p> <p>ABMでも個別に解除できますが、MDMサーバー側からデバイスの所有を解除をするのは工数削減のために有効な場合があります。 誤ってデバイスの所有を解除してしまった場合でも、認定販売代理店または携帯電話会社を通じて再び追加できます。</p> <h3 id="作業2お客様番号の設定">作業2：お客様番号の設定</h3> <p>Apple社が発行するお客様番号、携帯電話キャリアなどの販売店に関しては、Apple社から発行されている販売店IDも合わせてABMに登録することで、自動デバイス登録が使用できます。</p> <p>販売側が、つまりベンダーによる自動デバイス登録の適用作業が完了すると、管理者宛に登録完了のメールが来ます。 自動デバイス登録されている端末は、ABMを経由してMDMサーバーに割り当てることができます。</p> <ol> <li>サイドバーの下部の「設定」を選択して、「デバイス管理の設定」項目を開く</li> <li>お客様番号の項目の「編集」ボタンをクリック</li> <li>Appleお客様番号または販売店IDを入力してして「完了」ボタンをクリック</li> </ol> <p>購入だけではなくレンタルも対象となるので、詳しくはベンダーに確認してください。</p> <h3 id="オプションデフォルトのデバイスの割り当て">オプション：デフォルトのデバイスの割り当て</h3> <p>ABMではシリアル番号または注文番号から手動でどのMDMサーバーにデバイスを割り当てるかを手動で設定できます。 しかし、毎度手作業で行うのはとても面倒であるため、MDMサーバーに割り当てをデバイスごとに自動で割り当てる設定が可能です。</p> <p>割り当て可能なデバイスの種類は、</p> <ul> <li>iPad</li> <li>iPhone</li> <li>iPod</li> <li>Mac</li> <li>Apple TV</li> </ul> <p>の5種類です。</p> <p>Apple Watchには対応していません。</p> <p><a href="/assets/posts/post/2019-12-16-1/assigning_default_device.png" data-fancybox="images" data-caption="デフォルトデバイスの割り当て"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="デフォルトデバイスの割り当て" data-src="/assets/posts/post/2019-12-16-1/assigning_default_device.png" class="lazyload"></a></p> <h2 id="アプリケーションライセンスの管理">アプリケーションライセンスの管理</h2> <p>ABMはVolume Purchase Program（以下「VPP」という）の設定できます。手順は以下のとおりです。</p> <ol> <li>作業1：「場所」の設定</li> <li>作業2：サーバートークンのダウンロード</li> <li>作業3：アプリケーションの購入/割当</li> </ol> <h3 id="作業1場所の設定">作業1：場所の設定</h3> <p>ABMには「<strong>場所</strong>」という概念があります。 VPPはこの「場所」に紐付くという特徴があります。 自動デバイス登録はABMのアカウント自体に紐付いていましたが、VPPでは異る点に注意が必要です。</p> <p>「場所」はデフォルトでABM申請時の住所が存在していますが、このデフォルトの「場所」にVPPを紐付けるのは悪手です。</p> <p>ベストプラクティスは、MDMサーバーごとに別々の「場所」を作成するという方法です。 これはVPPのライセンスを異るMDMサーバーで使用する場合、またはMDMサーバーを移行する際にVPPライセンスの取り合いになりVPPが機能しなくなってしまうという仕様があるためです。Apple社のサポート方にも伺いましたが、この運用が良いということです。</p> <p>「場所」間のライセンスの移動は柔軟に対応できるため、ライセンスを余計に購入する必要はありません。</p> <p>具体的にはMDMサーバーに紐付く「場所」を以下のように設定すると良いです。</p> <ol> <li>サイドバーの上部の「場所」を選択して、建物マークをクリック</li> <li>場所名にMDMサーバー用の「場所」である旨を入力</li> <li>住所は必須ですので、デフォルトの「場所」と同じ住所または任意の住所を入力</li> <li>「保存」ボタンをクリック</li> </ol> <p><a href="/assets/posts/post/2019-12-16-1/add_location.png" data-fancybox="images" data-caption="場所の追加"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="場所の追加" data-src="/assets/posts/post/2019-12-16-1/add_location.png" class="lazyload"></a> <a href="/assets/posts/post/2019-12-16-1/input_location.png" data-fancybox="images" data-caption="場所の入力"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="場所の入力" data-src="/assets/posts/post/2019-12-16-1/input_location.png" class="lazyload"></a></p> <h3 id="作業2サーバートークンのダウンロード">作業2：サーバートークンのダウンロード</h3> <p>MDMサーバーに、MDMサーバーごとに設定した「場所」を利用してVPPの設定します。</p> <ol> <li>サイドバーの下部の「設定」を選択して、「Appとブック」項目を開く</li> <li>MDMサーバーに対応したサーバートークンをダウンロード</li> <li>MDMサーバー側で、ダウンロードしてきたVPPのサーバートークンをアップロード</li> </ol> <p><a href="/assets/posts/post/2019-12-16-1/download_server_token.png" data-fancybox="images" data-caption="サーバートークンダウンロード"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="サーバートークンダウンロード" data-src="/assets/posts/post/2019-12-16-1/download_server_token.png" class="lazyload"></a></p> <h3 id="作業3アプリケーションの購入割当">作業3：アプリケーションの購入/割当</h3> <p>iOS、iPadOS、macOSのアプリケーションはVPPライセンスで配布が可能です。 ABMでは無償有償にかかわらず、必ず購入と場所への割り当ての手順を踏む必要があります。</p> <ol> <li>サイドバーの中部の「Appとブック」を選択</li> <li>検索窓から購入したいアプリケーションを検索</li> <li>購入したいアプリケーションを選択</li> <li>割り当て先から割り当てたい「場所」を選択</li> <li>「入手」ボタンをクリック</li> </ol> <p><a href="/assets/posts/post/2019-12-16-1/buy_application.png" data-fancybox="images" data-caption="アプリケーションの購入"><img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="アプリケーションの購入" data-src="/assets/posts/post/2019-12-16-1/buy_application.png" class="lazyload"></a></p> <h2 id="番外編プッシュ証明書の設定">番外編（プッシュ証明書の設定）</h2> <p>ABM/ASMの話とは少し外れますが、<a href="https://www.jamf.com//products/jamf-pro/" target="_blank" rel="noopener noreferrer">Jamf Pro</a>や<a href="https://www.microsoft.com/ja-jp/microsoft-365/enterprise-mobility-security/microsoft-intune" target="_blank" rel="noopener noreferrer">Microsoft Intune</a>などのMDMサービスを使用する際には、<a href="https://identity.apple.com/pushcert/" target="_blank" rel="noopener noreferrer">Apple Push Certificates Portal</a>で作成したプッシュ証明書を各種MDMサーバーに登録する作業が<strong>毎年</strong>必要です。 このPush証明書はApple IDに紐付いています。</p> <p>さて、なぜ引き合いに出したかと言うと、設定方法によっては取り返しのつかない事になりかねないたためです。</p> <p>プッシュ証明書の仕様で、すでにMDMサーバーに登録されているプッシュ証明書をApple ID（便宜上<strong>旧 Apple ID</strong>とする）を用いて発行した場合、<strong>旧 Apple ID</strong>とは異なるApple ID（便宜上<strong>新 Apple ID</strong>とする）を用いて発行したプッシュ証明書で更新作業を行ってしまうと、MDMコマンドが発行できなくなる挙動をします。 つまり、異なるApple IDを使用し、プッシュ証明書の更新作業をすると、MDMの機能が一切使えなくなってしまうという問題があります。</p> <p>再度使えるようにするには、手動で各端末のリセット作業が必要となります。 個人的には数百台、数千台でこのような状況になってしまったら血の気が引いてしまいます。</p> <p>ゆえに、MDMサーバーに登録するプッシュ証明書を作成するApple IDは、従業員個人のApple IDではなくグループメールなどの共有アカウントでApple IDを作成するべきです。 従業員個人のApple IDは退職などに伴いApple IDは消えてしまう可能性があるためです。</p> <p>上記の注意点を念頭におきつつ、プッシュ証明書の設定と更新作業は複数人で認識を合わせたり、ドキュメントを残しておいたりすると良いでしょう。</p> <h2 id="終わりに">終わりに</h2> <p>Apple社が提供する、Apple Business Managerについて設定手順と、いくつかのプラクティスを紹介しました。</p> <p>特にVPPの<strong>場所</strong>に関しては放置してしまうと、今は良くても後任の方がつらい思いをするかもしれないので、今からでも対応してみると良いかもしれません。 また、これからABM/ASMを設定される方の参考になれば幸いです。</p> <h2 id="宣伝">宣伝</h2> <p>情シスSlackってなんだろ？と思った方はぜひ<a href="https://note.com/ringo_o_7/n/nd72d772b83f1" target="_blank" rel="noopener noreferrer">情シスSlackで幸せになった話</a>をご覧ください。</p> <p>興味がある！入ってまずは情報収集してみたい！こんな知見を共有できる！という方は<a href="https://join.slack.com/t/corp-engr/shared_invite/enQtNjMxMzg1MjUxOTIyLTI5YWJhYWIwNjE4MTJlNzViODc1MDVjNjY2NzQ3MGZhOTEyZDY0MTE4NTgwNjkwZmEyYjY3YzIzZmQyZjdhM2Q" target="_blank" rel="noopener noreferrer">情シスSlack 招待ページ</a>から参加できます。</p> </article> <section class="share"> <a href="//twitter.com/share?text=Apple+Business+Manager%2FApple+School+Manager%E3%81%AE%E8%A8%AD%E5%AE%9A&amp;url=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2019-12-16-1%3Futm_source%3Dtwitter%26utm_medium%3Dsocial&amp;via=kenchan0130" onclick="window.open(this.href, 'twitter-share', 'width=550,height=255,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-twitter fa-lg"></i> </a> <a href="//www.facebook.com/sharer.php?t=Apple+Business+Manager%2FApple+School+Manager%E3%81%AE%E8%A8%AD%E5%AE%9A&amp;u=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2019-12-16-1%3Futm_source%3Dfacebook%26utm_medium%3Dsocial" onclick="window.open(this.href, 'facebook-share', 'width=550,height=255,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-facebook fa-lg"></i> </a> <a href="//b.hatena.ne.jp/entry/panel/?btitle=Apple+Business+Manager%2FApple+School+Manager%E3%81%AE%E8%A8%AD%E5%AE%9A&amp;url=https%3A%2F%2Fkenchan0130.github.io%2Fpost%2F2019-12-16-1" onclick="window.open(this.href, 'hatena-share', 'width=550,height=600,menubar=no,toolbar=no,resizable=yes');return false;"> <i class="fab fa-hatena fa-lg"></i> </a> </section> <section class="post-donation"> <div class="post-donation-panel"> <p class="post-donation-description"> 参考になった・面白かったと感じていただけましたら、サポートいただけると励みになります。 </p> <a class="post-donation-button" href="https://www.buymeacoffee.com/kenchan0130" onclick="gtag('event', 'click-buymeacoffee', { event_category: 'www.buymeacoffee.com/kenchan0130', event_label: '/post/2019-12-16-1' });" target="_blank" rel="noopener noreferrer"> <p class="post-donation-button-body"> <img class="icon lazyload" alt="buymeacoffee" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg"> <span class="label">サポートする</span> </p> </a> </div> </section> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2444060431947599" data-ad-slot="7319689305" data-ad-format="auto"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> <section class="sub-contents related-posts"> <div class="sub-contents-wrapper"> <div class="sub-contents-title">あわせて読みたい</div> <div class="sub-contents-main"> <li> <a href="/post/2019-07-16-1">組織におけるApple IDの運用</a> <span class="post-date">- July 16, 2019</span> </li> <li> <a href="/post/2017-12-17-1">FOLIOにおけるiOS/Android/macOSの端末管理とその運用について</a> <span class="post-date">- December 17, 2017</span> </li> <li> <a href="/post/2017-12-03-1">Apple製品を会社として導入するための準備をした話</a> <span class="post-date">- December 3, 2017</span> </li> <li> <a href="/post/2025-06-19-1">WWDC 2025で発表されたエンタープライズ関連の新機能</a> <span class="post-date">- June 19, 2025</span> </li> <li> <a href="/post/2024-06-19-1">WWDC 2024で発表されたエンタープライズ関連の新機能</a> <span class="post-date">- June 19, 2024</span> </li> </div> </div> </section> <section class="sub-contents tags"> <div class="sub-contents-wrapper"> <div class="sub-contents-title">Tags</div> <div class="sub-contents-main"> <a href="/tag/apple">Apple</a> <a href="/tag/apple-id">Apple ID</a> <a href="/tag/vpp">VPP</a> <a href="/tag/dep">DEP</a> <a href="/tag/education">Education</a> <a href="/tag/enterprise">Enterprise</a> </div> </div> </section> </div> </div> </div> <footer class="site-footer"> <div class="wrapper"> <h3 class="footer-heading">kenchan0130 blog</h3> <div class="site-navigation"> <p><strong>Site Map</strong></p> <ul class="pages"> <li class="nav-link"> <a href="/archives">Archives</a> </li> <li class="nav-link"> <a href="/privacy">Privacy Policy</a> </li> <li class="nav-link"> <a href="/profile">Profile</a> </li> <li class="nav-link"> <a href="/profile/resume">Resume</a> </li> </ul> </div> <div class="site-contact"> <p><strong>Contact</strong></p> <ul class="social-media-list"> <li> <a href="https://twitter.com/kenchan0130" title="Follow me on Twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> <span class="username">kenchan0130</span> </a> </li> <li> <a href="https://github.com/kenchan0130" title="Fork me on GitHub" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> <span class="username">kenchan0130</span> </a> </li> </ul> </div> <div class="site-signature"> <p class="rss-subscribe text"><strong>Subscribe <a href="/feed.xml">via RSS</a></strong></p> <p class="text">ソフトウェアエンジニア。記録に残したいことを雑に備忘するブログ。 投稿内容は個人の見解であり所属する組織の公式見解ではありません。 </p> </div> </div> <div class="licence">このサイトのコンテンツは<a href="https://creativecommons.org/licenses/by/4.0/deed.ja" target="_blank" rel="noopener noreferrer">Creative Commons Attribution 4.0 International (CC-BY-4.0) License</a>の下でライセンスされています。</div> <div class="copyright">Copyright © 2017-2025 Tadayuki Onishi All Rights Reserved.</div> </footer> <script src="/assets/bundle/app.55445db2fff8ddfed8c5.js" async></script> <script async src="//www.googletagmanager.com/gtag/js?id=G-B7RX34Q5PL"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B7RX34Q5PL");</script> <script async src="//www.googletagmanager.com/gtag/js?id=UA-79827366-2"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-79827366-2");</script> </body> </html>